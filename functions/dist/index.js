(()=>{"use strict";var __webpack_modules__={777:function(__unused_webpack_module,exports,__webpack_require__){eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deleteDocument = exports.updateDocument = exports.createDocument = exports.getDocument = void 0;\nconst uuid_1 = __webpack_require__(828);\nconst config_1 = __webpack_require__(611);\nconst services_1 = __webpack_require__(745);\nconst services_2 = __webpack_require__(527);\nconst getFirestoreDocument = (docRequest) => __awaiter(void 0, void 0, void 0, function* () {\n    const docRef = services_1.firestore.collection(docRequest.collection).doc(docRequest.documentId);\n    const docResponse = {\n        status: false,\n    };\n    return new Promise((resolve) => {\n        docRef\n            .get()\n            .then((doc) => {\n            if (!doc.exists) {\n                console.log('No such document!');\n                docResponse.message = `No such document!`;\n            }\n            else {\n                docResponse.status = true;\n                docResponse.data = doc.data();\n            }\n            resolve(docResponse);\n        })\n            .catch((err) => {\n            console.log('Error getting document', err);\n            docResponse.message = `Error getting document`;\n            resolve(docResponse);\n        });\n    });\n});\nconst getRealtimeDocument = (docRequest) => __awaiter(void 0, void 0, void 0, function* () {\n    const realtime = (0, services_1.getRealtimeDb)();\n    const docRef = realtime.ref(`${docRequest.collection}/${docRequest.documentId}`);\n    const docResponse = {\n        status: false,\n    };\n    return new Promise((resolve) => {\n        docRef.on('value', (snapshot) => {\n            if (snapshot && snapshot.val() != null) {\n                docResponse.status = true;\n                docResponse.data = snapshot.val();\n            }\n            else {\n                console.log(`Could not find data: ${docRequest.collection}/${docRequest.documentId}`);\n                docResponse.message = `Could not find data: ${docRequest.collection}/${docRequest.documentId}`;\n            }\n            resolve(docResponse);\n        }, (err) => {\n            docResponse.message = `Error getting document ${err}`;\n            resolve(docResponse);\n        });\n    });\n});\nconst createFirestoreDocument = (docRequest) => __awaiter(void 0, void 0, void 0, function* () {\n    const docResponse = {\n        status: false,\n    };\n    return services_1.firestore\n        .collection(docRequest.collection)\n        .doc(docRequest.docId)\n        .set(docRequest.data, { merge: true })\n        .then((ref) => {\n        docResponse.status = true;\n        docResponse.message = `Firestore data created / updated with id: ${docRequest.docId}`;\n        return docResponse;\n    })\n        .catch((error) => {\n        docResponse.message = error.message;\n        return docResponse;\n    });\n});\nconst createRealtimeDocument = (docRequest, databaseUrl) => __awaiter(void 0, void 0, void 0, function* () {\n    const docResponse = {\n        status: false,\n    };\n    const realtime = (0, services_1.getRealtimeDb)(databaseUrl);\n    const docRef = realtime.ref(docRequest.collection);\n    return docRef\n        .child(docRequest.docId)\n        .set(docRequest.data)\n        .then((ref) => {\n        docResponse.status = true;\n        docResponse.message = `Realtime data created with id: ${docRequest.docId}`;\n        return docResponse;\n    })\n        .catch((error) => {\n        docResponse.message = error.message;\n        return docResponse;\n    });\n});\nconst updateRealtimeDocument = (docRequest, databaseUrl) => __awaiter(void 0, void 0, void 0, function* () {\n    const docResponse = {\n        status: false,\n    };\n    const realtime = (0, services_1.getRealtimeDb)(databaseUrl);\n    const docRef = realtime.ref(docRequest.collection).child(docRequest.docId);\n    return docRef\n        .update(docRequest.data)\n        .then((ref) => {\n        docResponse.status = true;\n        docResponse.message = `Realtime data update to '${docRequest.collection}/${docRequest.docId}'`;\n        return docResponse;\n    })\n        .catch((error) => {\n        docResponse.message = error.message;\n        return docResponse;\n    });\n});\nconst updateFirestoreDocument = (docRequest) => __awaiter(void 0, void 0, void 0, function* () {\n    //TODO: create firestore has {merge: true} which help to create a new document or update existing data\n    return createFirestoreDocument(docRequest);\n});\nconst deleteRealtimeDocument = (docRequest, databaseUrl) => __awaiter(void 0, void 0, void 0, function* () {\n    const docResponse = {\n        status: false,\n    };\n    const realtime = (0, services_1.getRealtimeDb)(databaseUrl);\n    const docRef = realtime.ref(docRequest.collection).child(docRequest.docId);\n    return docRef\n        .remove()\n        .then((ref) => {\n        docResponse.status = true;\n        docResponse.message = `Realtime data removed '${docRequest.collection}/${docRequest.docId}'`;\n        return docResponse;\n    })\n        .catch((error) => {\n        docResponse.message = error.message;\n        return docResponse;\n    });\n});\nconst deleteFirestoreDocument = (docRequest) => __awaiter(void 0, void 0, void 0, function* () {\n    const docResponse = {\n        status: false,\n    };\n    return services_1.firestore\n        .collection(docRequest.collection)\n        .doc(docRequest.docId)\n        .delete()\n        .then((ref) => {\n        docResponse.status = true;\n        docResponse.message = `Firestore data deleted - ${docRequest.docId}`;\n        return docResponse;\n    })\n        .catch((error) => {\n        docResponse.message = error.message;\n        return docResponse;\n    });\n});\nconst getDocument = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const docRequest = req.body;\n    let docResponse;\n    const validatedRequest = (0, services_2.validateGetDocRequest)(docRequest);\n    if (validatedRequest.error != null) {\n        res.json((0, services_1.createStatusError)(validatedRequest.error.message));\n    }\n    switch (docRequest.dbType) {\n        case 'firestore':\n            docResponse = yield getFirestoreDocument(docRequest);\n            break;\n        case 'realtime':\n            docResponse = yield getRealtimeDocument(docRequest);\n            break;\n        default:\n            docResponse.message = `Database type is invalid: ${docRequest.dbType}`;\n            break;\n    }\n    return res.json(docResponse);\n});\nexports.getDocument = getDocument;\nconst createDocument = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const docRequest = req.body;\n    const databaseUrl = req.headers['database-url'];\n    let docResponse = {\n        status: false,\n        message: `Could not create document!`,\n    };\n    // TODO: put this one to validation\n    if (req.headers['source'] === 'frontend' && !config_1.config.public.collections.includes(docRequest.collection)) {\n        return res.status(403).json((0, services_1.createStatusError)(`${docRequest.collection} is not in the public collections!`));\n    }\n    docRequest.docId = docRequest.docId ? docRequest.docId : (0, uuid_1.v1)();\n    const validatedRequest = (0, services_2.validateCreateDocRequest)(docRequest);\n    if (validatedRequest.error != null) {\n        return res.status(403).json((0, services_1.createStatusError)(validatedRequest.error.message));\n    }\n    if (docRequest.dbType === 'firestore') {\n        docResponse = yield createFirestoreDocument(docRequest);\n    }\n    else {\n        // realtime\n        docResponse = yield createRealtimeDocument(docRequest, databaseUrl);\n    }\n    return res.json(docResponse);\n});\nexports.createDocument = createDocument;\nconst updateDocument = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const docRequest = req.body;\n    const databaseUrl = req.headers['database-url'];\n    let docResponse = {\n        status: false,\n        message: `Could not update '${docRequest.collection}/${docRequest.docId}'`,\n    };\n    const validatedRequest = (0, services_2.validateUpdateDocRequest)(docRequest);\n    if (validatedRequest.error != null) {\n        return res.status(403).json((0, services_1.createStatusError)(validatedRequest.error.message));\n    }\n    switch (docRequest.dbType) {\n        case 'firestore':\n            docResponse = yield updateFirestoreDocument(docRequest);\n            break;\n        case 'realtime':\n            docResponse = yield updateRealtimeDocument(docRequest, databaseUrl);\n            break;\n        default:\n            docResponse.message = `Database type is invalid: ${docRequest.dbType}`;\n            break;\n    }\n    return res.json(docResponse);\n});\nexports.updateDocument = updateDocument;\nconst deleteDocument = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const docRequest = req.body;\n    const databaseUrl = req.headers['database-url'];\n    let docResponse = {\n        status: false,\n        message: `Could not delete '${docRequest.collection}/${docRequest.docId}'`,\n    };\n    switch (docRequest.dbType) {\n        case 'firestore':\n            docResponse = yield deleteFirestoreDocument(docRequest);\n            break;\n        case 'realtime':\n            docResponse = yield deleteRealtimeDocument(docRequest, databaseUrl);\n            break;\n        default:\n            docResponse.message = `Database type is invalid: ${docRequest.dbType}`;\n            break;\n    }\n    return res.json(docResponse);\n});\nexports.deleteDocument = deleteDocument;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxFQUFFO1lBQ3RFLE1BQUs7S0FDUjtJQUVELE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7QUFDOUIsQ0FBQztBQXhCWSxzQkFBYyxrQkF3QjFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWJhc2Utd29yZHByZXNzLWZ1bmN0aW9ucy8uL3NyYy9hcGkvZGF0YWJhc2UvY29udHJvbGxlcnMvZGF0YWJhc2UudHM/NmFkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2MSBhcyB1dWlkdjEgfSBmcm9tICd1dWlkJ1xuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJ1xuXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdAZmlyZWJhc2UtYXBpL2NvbmZpZydcbmltcG9ydCB7IGNyZWF0ZVN0YXR1c0Vycm9yLCBmaXJlc3RvcmUsIGdldFJlYWx0aW1lRGIgfSBmcm9tICdAZmlyZWJhc2UtYXBpL3NlcnZpY2VzJ1xuaW1wb3J0IHsgR2V0RG9jUmVxdWVzdCwgRG9jUmVzcG9uc2UsIENyZWF0ZURvY1JlcXVlc3QsIERlbGV0ZURvY1JlcXVlc3QgfSBmcm9tICcuLi9tb2RlbHMnXG5pbXBvcnQgeyB2YWxpZGF0ZUdldERvY1JlcXVlc3QsIHZhbGlkYXRlQ3JlYXRlRG9jUmVxdWVzdCwgdmFsaWRhdGVVcGRhdGVEb2NSZXF1ZXN0IH0gZnJvbSAnLi4vc2VydmljZXMnXG5cbmNvbnN0IGdldEZpcmVzdG9yZURvY3VtZW50ID0gYXN5bmMgKGRvY1JlcXVlc3Q6IEdldERvY1JlcXVlc3QpOiBQcm9taXNlPERvY1Jlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IGRvY1JlZiA9IGZpcmVzdG9yZS5jb2xsZWN0aW9uKGRvY1JlcXVlc3QuY29sbGVjdGlvbikuZG9jKGRvY1JlcXVlc3QuZG9jdW1lbnRJZClcbiAgY29uc3QgZG9jUmVzcG9uc2U6IERvY1Jlc3BvbnNlID0ge1xuICAgIHN0YXR1czogZmFsc2UsXG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgZG9jUmVmXG4gICAgICAuZ2V0KClcbiAgICAgIC50aGVuKChkb2MpID0+IHtcbiAgICAgICAgaWYgKCFkb2MuZXhpc3RzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIHN1Y2ggZG9jdW1lbnQhJylcbiAgICAgICAgICBkb2NSZXNwb25zZS5tZXNzYWdlID0gYE5vIHN1Y2ggZG9jdW1lbnQhYFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY1Jlc3BvbnNlLnN0YXR1cyA9IHRydWVcbiAgICAgICAgICBkb2NSZXNwb25zZS5kYXRhID0gZG9jLmRhdGEoKVxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoZG9jUmVzcG9uc2UpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGdldHRpbmcgZG9jdW1lbnQnLCBlcnIpXG4gICAgICAgIGRvY1Jlc3BvbnNlLm1lc3NhZ2UgPSBgRXJyb3IgZ2V0dGluZyBkb2N1bWVudGBcbiAgICAgICAgcmVzb2x2ZShkb2NSZXNwb25zZSlcbiAgICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IGdldFJlYWx0aW1lRG9jdW1lbnQgPSBhc3luYyAoZG9jUmVxdWVzdDogR2V0RG9jUmVxdWVzdCk6IFByb21pc2U8RG9jUmVzcG9uc2U+ID0+IHtcbiAgY29uc3QgcmVhbHRpbWUgPSBnZXRSZWFsdGltZURiKClcbiAgY29uc3QgZG9jUmVmID0gcmVhbHRpbWUucmVmKGAke2RvY1JlcXVlc3QuY29sbGVjdGlvbn0vJHtkb2NSZXF1ZXN0LmRvY3VtZW50SWR9YClcbiAgY29uc3QgZG9jUmVzcG9uc2U6IERvY1Jlc3BvbnNlID0ge1xuICAgIHN0YXR1czogZmFsc2UsXG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgZG9jUmVmLm9uKFxuICAgICAgJ3ZhbHVlJyxcbiAgICAgIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICBpZiAoc25hcHNob3QgJiYgc25hcHNob3QudmFsKCkgIT0gbnVsbCkge1xuICAgICAgICAgIGRvY1Jlc3BvbnNlLnN0YXR1cyA9IHRydWVcbiAgICAgICAgICBkb2NSZXNwb25zZS5kYXRhID0gc25hcHNob3QudmFsKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgQ291bGQgbm90IGZpbmQgZGF0YTogJHtkb2NSZXF1ZXN0LmNvbGxlY3Rpb259LyR7ZG9jUmVxdWVzdC5kb2N1bWVudElkfWApXG4gICAgICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGBDb3VsZCBub3QgZmluZCBkYXRhOiAke2RvY1JlcXVlc3QuY29sbGVjdGlvbn0vJHtkb2NSZXF1ZXN0LmRvY3VtZW50SWR9YFxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoZG9jUmVzcG9uc2UpXG4gICAgICB9LFxuICAgICAgKGVycikgPT4ge1xuICAgICAgICBkb2NSZXNwb25zZS5tZXNzYWdlID0gYEVycm9yIGdldHRpbmcgZG9jdW1lbnQgJHtlcnJ9YFxuICAgICAgICByZXNvbHZlKGRvY1Jlc3BvbnNlKVxuICAgICAgfVxuICAgIClcbiAgfSlcbn1cblxuY29uc3QgY3JlYXRlRmlyZXN0b3JlRG9jdW1lbnQgPSBhc3luYyAoZG9jUmVxdWVzdDogQ3JlYXRlRG9jUmVxdWVzdCk6IFByb21pc2U8RG9jUmVzcG9uc2U+ID0+IHtcbiAgY29uc3QgZG9jUmVzcG9uc2U6IERvY1Jlc3BvbnNlID0ge1xuICAgIHN0YXR1czogZmFsc2UsXG4gIH1cblxuICByZXR1cm4gZmlyZXN0b3JlXG4gICAgLmNvbGxlY3Rpb24oZG9jUmVxdWVzdC5jb2xsZWN0aW9uKVxuICAgIC5kb2MoZG9jUmVxdWVzdC5kb2NJZClcbiAgICAuc2V0KGRvY1JlcXVlc3QuZGF0YSwgeyBtZXJnZTogdHJ1ZSB9KVxuICAgIC50aGVuKChyZWYpID0+IHtcbiAgICAgIGRvY1Jlc3BvbnNlLnN0YXR1cyA9IHRydWVcbiAgICAgIGRvY1Jlc3BvbnNlLm1lc3NhZ2UgPSBgRmlyZXN0b3JlIGRhdGEgY3JlYXRlZCAvIHVwZGF0ZWQgd2l0aCBpZDogJHtkb2NSZXF1ZXN0LmRvY0lkfWBcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG59XG5cbmNvbnN0IGNyZWF0ZVJlYWx0aW1lRG9jdW1lbnQgPSBhc3luYyAoZG9jUmVxdWVzdDogQ3JlYXRlRG9jUmVxdWVzdCwgZGF0YWJhc2VVcmw6IHN0cmluZyk6IFByb21pc2U8RG9jUmVzcG9uc2U+ID0+IHtcbiAgY29uc3QgZG9jUmVzcG9uc2U6IERvY1Jlc3BvbnNlID0ge1xuICAgIHN0YXR1czogZmFsc2UsXG4gIH1cblxuICBjb25zdCByZWFsdGltZSA9IGdldFJlYWx0aW1lRGIoZGF0YWJhc2VVcmwpXG5cbiAgY29uc3QgZG9jUmVmID0gcmVhbHRpbWUucmVmKGRvY1JlcXVlc3QuY29sbGVjdGlvbilcblxuICByZXR1cm4gZG9jUmVmXG4gICAgLmNoaWxkKGRvY1JlcXVlc3QuZG9jSWQpXG4gICAgLnNldChkb2NSZXF1ZXN0LmRhdGEpXG4gICAgLnRoZW4oKHJlZikgPT4ge1xuICAgICAgZG9jUmVzcG9uc2Uuc3RhdHVzID0gdHJ1ZVxuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGBSZWFsdGltZSBkYXRhIGNyZWF0ZWQgd2l0aCBpZDogJHtkb2NSZXF1ZXN0LmRvY0lkfWBcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG59XG5cbmNvbnN0IHVwZGF0ZVJlYWx0aW1lRG9jdW1lbnQgPSBhc3luYyAoZG9jUmVxdWVzdDogQ3JlYXRlRG9jUmVxdWVzdCwgZGF0YWJhc2VVcmw6IHN0cmluZyk6IFByb21pc2U8RG9jUmVzcG9uc2U+ID0+IHtcbiAgY29uc3QgZG9jUmVzcG9uc2U6IERvY1Jlc3BvbnNlID0ge1xuICAgIHN0YXR1czogZmFsc2UsXG4gIH1cblxuICBjb25zdCByZWFsdGltZSA9IGdldFJlYWx0aW1lRGIoZGF0YWJhc2VVcmwpXG4gIGNvbnN0IGRvY1JlZiA9IHJlYWx0aW1lLnJlZihkb2NSZXF1ZXN0LmNvbGxlY3Rpb24pLmNoaWxkKGRvY1JlcXVlc3QuZG9jSWQpXG5cbiAgcmV0dXJuIGRvY1JlZlxuICAgIC51cGRhdGUoZG9jUmVxdWVzdC5kYXRhKVxuICAgIC50aGVuKChyZWYpID0+IHtcbiAgICAgIGRvY1Jlc3BvbnNlLnN0YXR1cyA9IHRydWVcbiAgICAgIGRvY1Jlc3BvbnNlLm1lc3NhZ2UgPSBgUmVhbHRpbWUgZGF0YSB1cGRhdGUgdG8gJyR7ZG9jUmVxdWVzdC5jb2xsZWN0aW9ufS8ke2RvY1JlcXVlc3QuZG9jSWR9J2BcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG59XG5cbmNvbnN0IHVwZGF0ZUZpcmVzdG9yZURvY3VtZW50ID0gYXN5bmMgKGRvY1JlcXVlc3Q6IENyZWF0ZURvY1JlcXVlc3QpOiBQcm9taXNlPERvY1Jlc3BvbnNlPiA9PiB7XG4gIC8vVE9ETzogY3JlYXRlIGZpcmVzdG9yZSBoYXMge21lcmdlOiB0cnVlfSB3aGljaCBoZWxwIHRvIGNyZWF0ZSBhIG5ldyBkb2N1bWVudCBvciB1cGRhdGUgZXhpc3RpbmcgZGF0YVxuICByZXR1cm4gY3JlYXRlRmlyZXN0b3JlRG9jdW1lbnQoZG9jUmVxdWVzdClcbn1cblxuY29uc3QgZGVsZXRlUmVhbHRpbWVEb2N1bWVudCA9IGFzeW5jIChkb2NSZXF1ZXN0OiBEZWxldGVEb2NSZXF1ZXN0LCBkYXRhYmFzZVVybDogc3RyaW5nKTogUHJvbWlzZTxEb2NSZXNwb25zZT4gPT4ge1xuICBjb25zdCBkb2NSZXNwb25zZTogRG9jUmVzcG9uc2UgPSB7XG4gICAgc3RhdHVzOiBmYWxzZSxcbiAgfVxuXG4gIGNvbnN0IHJlYWx0aW1lID0gZ2V0UmVhbHRpbWVEYihkYXRhYmFzZVVybClcbiAgY29uc3QgZG9jUmVmID0gcmVhbHRpbWUucmVmKGRvY1JlcXVlc3QuY29sbGVjdGlvbikuY2hpbGQoZG9jUmVxdWVzdC5kb2NJZClcblxuICByZXR1cm4gZG9jUmVmXG4gICAgLnJlbW92ZSgpXG4gICAgLnRoZW4oKHJlZikgPT4ge1xuICAgICAgZG9jUmVzcG9uc2Uuc3RhdHVzID0gdHJ1ZVxuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGBSZWFsdGltZSBkYXRhIHJlbW92ZWQgJyR7ZG9jUmVxdWVzdC5jb2xsZWN0aW9ufS8ke2RvY1JlcXVlc3QuZG9jSWR9J2BcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG59XG5cbmNvbnN0IGRlbGV0ZUZpcmVzdG9yZURvY3VtZW50ID0gYXN5bmMgKGRvY1JlcXVlc3Q6IERlbGV0ZURvY1JlcXVlc3QpOiBQcm9taXNlPERvY1Jlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IGRvY1Jlc3BvbnNlOiBEb2NSZXNwb25zZSA9IHtcbiAgICBzdGF0dXM6IGZhbHNlLFxuICB9XG5cbiAgcmV0dXJuIGZpcmVzdG9yZVxuICAgIC5jb2xsZWN0aW9uKGRvY1JlcXVlc3QuY29sbGVjdGlvbilcbiAgICAuZG9jKGRvY1JlcXVlc3QuZG9jSWQpXG4gICAgLmRlbGV0ZSgpXG4gICAgLnRoZW4oKHJlZikgPT4ge1xuICAgICAgZG9jUmVzcG9uc2Uuc3RhdHVzID0gdHJ1ZVxuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGBGaXJlc3RvcmUgZGF0YSBkZWxldGVkIC0gJHtkb2NSZXF1ZXN0LmRvY0lkfWBcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcbiAgICAgIHJldHVybiBkb2NSZXNwb25zZVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXREb2N1bWVudCA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IGRvY1JlcXVlc3Q6IEdldERvY1JlcXVlc3QgPSByZXEuYm9keVxuICBsZXQgZG9jUmVzcG9uc2VcblxuICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0gdmFsaWRhdGVHZXREb2NSZXF1ZXN0KGRvY1JlcXVlc3QpXG4gIGlmICh2YWxpZGF0ZWRSZXF1ZXN0LmVycm9yICE9IG51bGwpIHtcbiAgICByZXMuanNvbihjcmVhdGVTdGF0dXNFcnJvcih2YWxpZGF0ZWRSZXF1ZXN0LmVycm9yLm1lc3NhZ2UpKVxuICB9XG5cbiAgc3dpdGNoIChkb2NSZXF1ZXN0LmRiVHlwZSkge1xuICAgIGNhc2UgJ2ZpcmVzdG9yZSc6XG4gICAgICBkb2NSZXNwb25zZSA9IGF3YWl0IGdldEZpcmVzdG9yZURvY3VtZW50KGRvY1JlcXVlc3QpXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAncmVhbHRpbWUnOlxuICAgICAgZG9jUmVzcG9uc2UgPSBhd2FpdCBnZXRSZWFsdGltZURvY3VtZW50KGRvY1JlcXVlc3QpXG4gICAgICBicmVha1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGRvY1Jlc3BvbnNlLm1lc3NhZ2UgPSBgRGF0YWJhc2UgdHlwZSBpcyBpbnZhbGlkOiAke2RvY1JlcXVlc3QuZGJUeXBlfWBcbiAgICAgIGJyZWFrXG4gIH1cblxuICByZXR1cm4gcmVzLmpzb24oZG9jUmVzcG9uc2UpXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVEb2N1bWVudCA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IGRvY1JlcXVlc3Q6IENyZWF0ZURvY1JlcXVlc3QgPSByZXEuYm9keVxuICBjb25zdCBkYXRhYmFzZVVybCA9IHJlcS5oZWFkZXJzWydkYXRhYmFzZS11cmwnXSBhcyBzdHJpbmdcblxuICBsZXQgZG9jUmVzcG9uc2UgPSB7XG4gICAgc3RhdHVzOiBmYWxzZSxcbiAgICBtZXNzYWdlOiBgQ291bGQgbm90IGNyZWF0ZSBkb2N1bWVudCFgLFxuICB9IGFzIERvY1Jlc3BvbnNlXG5cbiAgLy8gVE9ETzogcHV0IHRoaXMgb25lIHRvIHZhbGlkYXRpb25cbiAgaWYgKHJlcS5oZWFkZXJzWydzb3VyY2UnXSA9PT0gJ2Zyb250ZW5kJyAmJiAhY29uZmlnLnB1YmxpYy5jb2xsZWN0aW9ucy5pbmNsdWRlcyhkb2NSZXF1ZXN0LmNvbGxlY3Rpb24pKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKGAke2RvY1JlcXVlc3QuY29sbGVjdGlvbn0gaXMgbm90IGluIHRoZSBwdWJsaWMgY29sbGVjdGlvbnMhYCkpXG4gIH1cblxuICBkb2NSZXF1ZXN0LmRvY0lkID0gZG9jUmVxdWVzdC5kb2NJZCA/IGRvY1JlcXVlc3QuZG9jSWQgOiB1dWlkdjEoKVxuXG4gIGNvbnN0IHZhbGlkYXRlZFJlcXVlc3QgPSB2YWxpZGF0ZUNyZWF0ZURvY1JlcXVlc3QoZG9jUmVxdWVzdClcblxuICBpZiAodmFsaWRhdGVkUmVxdWVzdC5lcnJvciAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IubWVzc2FnZSkpXG4gIH1cblxuICBpZiAoZG9jUmVxdWVzdC5kYlR5cGUgPT09ICdmaXJlc3RvcmUnKSB7XG4gICAgZG9jUmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVGaXJlc3RvcmVEb2N1bWVudChkb2NSZXF1ZXN0KVxuICB9IGVsc2Uge1xuICAgIC8vIHJlYWx0aW1lXG4gICAgZG9jUmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVSZWFsdGltZURvY3VtZW50KGRvY1JlcXVlc3QsIGRhdGFiYXNlVXJsKVxuICB9XG5cbiAgcmV0dXJuIHJlcy5qc29uKGRvY1Jlc3BvbnNlKVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlRG9jdW1lbnQgPSBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTxSZXNwb25zZT4gPT4ge1xuICBjb25zdCBkb2NSZXF1ZXN0OiBDcmVhdGVEb2NSZXF1ZXN0ID0gcmVxLmJvZHlcblxuICBjb25zdCBkYXRhYmFzZVVybCA9IHJlcS5oZWFkZXJzWydkYXRhYmFzZS11cmwnXSBhcyBzdHJpbmdcblxuICBsZXQgZG9jUmVzcG9uc2UgPSB7XG4gICAgc3RhdHVzOiBmYWxzZSxcbiAgICBtZXNzYWdlOiBgQ291bGQgbm90IHVwZGF0ZSAnJHtkb2NSZXF1ZXN0LmNvbGxlY3Rpb259LyR7ZG9jUmVxdWVzdC5kb2NJZH0nYCxcbiAgfSBhcyBEb2NSZXNwb25zZVxuXG4gIGNvbnN0IHZhbGlkYXRlZFJlcXVlc3QgPSB2YWxpZGF0ZVVwZGF0ZURvY1JlcXVlc3QoZG9jUmVxdWVzdClcblxuICBpZiAodmFsaWRhdGVkUmVxdWVzdC5lcnJvciAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IubWVzc2FnZSkpXG4gIH1cblxuICBzd2l0Y2ggKGRvY1JlcXVlc3QuZGJUeXBlKSB7XG4gICAgY2FzZSAnZmlyZXN0b3JlJzpcbiAgICAgIGRvY1Jlc3BvbnNlID0gYXdhaXQgdXBkYXRlRmlyZXN0b3JlRG9jdW1lbnQoZG9jUmVxdWVzdClcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdyZWFsdGltZSc6XG4gICAgICBkb2NSZXNwb25zZSA9IGF3YWl0IHVwZGF0ZVJlYWx0aW1lRG9jdW1lbnQoZG9jUmVxdWVzdCwgZGF0YWJhc2VVcmwpXG4gICAgICBicmVha1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGRvY1Jlc3BvbnNlLm1lc3NhZ2UgPSBgRGF0YWJhc2UgdHlwZSBpcyBpbnZhbGlkOiAke2RvY1JlcXVlc3QuZGJUeXBlfWBcbiAgICAgIGJyZWFrXG4gIH1cblxuICByZXR1cm4gcmVzLmpzb24oZG9jUmVzcG9uc2UpXG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVEb2N1bWVudCA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IGRvY1JlcXVlc3Q6IERlbGV0ZURvY1JlcXVlc3QgPSByZXEuYm9keVxuICBjb25zdCBkYXRhYmFzZVVybCA9IHJlcS5oZWFkZXJzWydkYXRhYmFzZS11cmwnXSBhcyBzdHJpbmdcblxuICBsZXQgZG9jUmVzcG9uc2UgPSB7XG4gICAgc3RhdHVzOiBmYWxzZSxcbiAgICBtZXNzYWdlOiBgQ291bGQgbm90IGRlbGV0ZSAnJHtkb2NSZXF1ZXN0LmNvbGxlY3Rpb259LyR7ZG9jUmVxdWVzdC5kb2NJZH0nYCxcbiAgfSBhcyBEb2NSZXNwb25zZVxuXG4gIHN3aXRjaCAoZG9jUmVxdWVzdC5kYlR5cGUpIHtcbiAgICBjYXNlICdmaXJlc3RvcmUnOlxuICAgICAgZG9jUmVzcG9uc2UgPSBhd2FpdCBkZWxldGVGaXJlc3RvcmVEb2N1bWVudChkb2NSZXF1ZXN0KVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ3JlYWx0aW1lJzpcbiAgICAgIGRvY1Jlc3BvbnNlID0gYXdhaXQgZGVsZXRlUmVhbHRpbWVEb2N1bWVudChkb2NSZXF1ZXN0LCBkYXRhYmFzZVVybClcbiAgICAgIGJyZWFrXG5cbiAgICBkZWZhdWx0OlxuICAgICAgZG9jUmVzcG9uc2UubWVzc2FnZSA9IGBEYXRhYmFzZSB0eXBlIGlzIGludmFsaWQ6ICR7ZG9jUmVxdWVzdC5kYlR5cGV9YFxuICAgICAgYnJlYWtcbiAgfVxuXG4gIHJldHVybiByZXMuanNvbihkb2NSZXNwb25zZSlcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///777\n")},561:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(777), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYxLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUEwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL2RhdGFiYXNlL2NvbnRyb2xsZXJzL2luZGV4LnRzP2VmYjAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9kYXRhYmFzZSdcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///561\n')},751:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.listenerHttpDb = exports.dbApp = void 0;\nconst cors = __webpack_require__(582);\nconst express = __webpack_require__(860);\nconst bodyParser = __webpack_require__(986);\nconst functions = __webpack_require__(744);\nconst config_1 = __webpack_require__(611);\nconst routes_1 = __webpack_require__(606);\nconst services_1 = __webpack_require__(745);\nconst router = express.Router();\nexports.dbApp = express();\nexports.dbApp.use(bodyParser.json());\nexports.dbApp.use(cors({ origin: true }));\nexports.dbApp.use('/', router);\nrouter.use(services_1.tokenValidation);\nrouter.use('/v1', (0, routes_1.checkApplicationV1)());\n// Handle all unknown requests\nexports.dbApp.use('*', (req, res) => {\n    res.status(404).send();\n});\nconst runtimeOpts = {};\nexports.listenerHttpDb = functions\n    .region(...config_1.config.regions)\n    .runWith(runtimeOpts)\n    .https.onRequest(exports.dbApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUxLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLHNDQUE0QjtBQUM1Qix5Q0FBa0M7QUFDbEMsNENBQXlDO0FBQ3pDLDJDQUErQztBQUUvQywwQ0FBNkM7QUFDN0MsMENBQTZDO0FBQzdDLDRDQUF3RDtBQUV4RCxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQUssR0FBRyxPQUFPLEVBQUU7QUFDOUIsYUFBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDNUIsYUFBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUNqQyxhQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUM7QUFFdEIsTUFBTSxDQUFDLEdBQUcsQ0FBQywwQkFBZSxDQUFDO0FBQzNCLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLCtCQUFrQixHQUFFLENBQUM7QUFFdkMsOEJBQThCO0FBQzlCLGFBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBb0IsRUFBRSxHQUFxQixFQUFFLEVBQUU7SUFDN0QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUU7QUFDeEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQTZCLEVBQUU7QUFDbkMsc0JBQWMsR0FBRyxTQUFTO0tBQ3BDLE1BQU0sQ0FBQyxHQUFHLGVBQU0sQ0FBQyxPQUFPLENBQUM7S0FDekIsT0FBTyxDQUFDLFdBQVcsQ0FBQztLQUNwQixLQUFLLENBQUMsU0FBUyxDQUFDLGFBQUssQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL2RhdGFiYXNlL2luZGV4LnRzP2YwYjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY29ycyBmcm9tICdjb3JzJ1xuaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0ICogYXMgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcidcbmltcG9ydCAqIGFzIGZ1bmN0aW9ucyBmcm9tICdmaXJlYmFzZS1mdW5jdGlvbnMnXG5cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ0BmaXJlYmFzZS1hcGkvY29uZmlnJ1xuaW1wb3J0IHsgY2hlY2tBcHBsaWNhdGlvblYxIH0gZnJvbSAnLi9yb3V0ZXMnXG5pbXBvcnQgeyB0b2tlblZhbGlkYXRpb24gfSBmcm9tICdAZmlyZWJhc2UtYXBpL3NlcnZpY2VzJ1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXG5leHBvcnQgY29uc3QgZGJBcHAgPSBleHByZXNzKClcbmRiQXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSlcbmRiQXBwLnVzZShjb3JzKHsgb3JpZ2luOiB0cnVlIH0pKVxuZGJBcHAudXNlKCcvJywgcm91dGVyKVxuXG5yb3V0ZXIudXNlKHRva2VuVmFsaWRhdGlvbilcbnJvdXRlci51c2UoJy92MScsIGNoZWNrQXBwbGljYXRpb25WMSgpKVxuXG4vLyBIYW5kbGUgYWxsIHVua25vd24gcmVxdWVzdHNcbmRiQXBwLnVzZSgnKicsIChyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlKSA9PiB7XG4gIHJlcy5zdGF0dXMoNDA0KS5zZW5kKClcbn0pXG5cbmNvbnN0IHJ1bnRpbWVPcHRzOiBmdW5jdGlvbnMuUnVudGltZU9wdGlvbnMgPSB7fVxuZXhwb3J0IGNvbnN0IGxpc3RlbmVySHR0cERiID0gZnVuY3Rpb25zXG4gIC5yZWdpb24oLi4uY29uZmlnLnJlZ2lvbnMpXG4gIC5ydW5XaXRoKHJ1bnRpbWVPcHRzKVxuICAuaHR0cHMub25SZXF1ZXN0KGRiQXBwKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///751\n")},40:(Q,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},327:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CreateDocRequestSchema = void 0;\nconst joi = __webpack_require__(414);\nexports.CreateDocRequestSchema = joi.object({\n    dbType: joi.string().required().valid('firestore', 'realtime'),\n    collection: joi.string().required(),\n    docId: joi.string().required(),\n    data: joi.object().required(),\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI3LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFnQztBQUVuQiw4QkFBc0IsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQy9DLE1BQU0sRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUM7SUFDOUQsVUFBVSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7SUFDbkMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7SUFDOUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Q0FDOUIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL2RhdGFiYXNlL21vZGVscy9jcmVhdGUtZG9jLXJlcXVlc3Quc2NoZW1hLnRzPzQ0MmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgam9pIGZyb20gJ0BoYXBpL2pvaSdcblxuZXhwb3J0IGNvbnN0IENyZWF0ZURvY1JlcXVlc3RTY2hlbWEgPSBqb2kub2JqZWN0KHtcbiAgZGJUeXBlOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKS52YWxpZCgnZmlyZXN0b3JlJywgJ3JlYWx0aW1lJyksXG4gIGNvbGxlY3Rpb246IGpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBkb2NJZDogam9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGRhdGE6IGpvaS5vYmplY3QoKS5yZXF1aXJlZCgpLFxufSlcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///327\n")},671:(Q,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},300:(Q,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},548:(Q,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},161:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GetDocRequestSchema = void 0;\nconst joi = __webpack_require__(414);\nexports.GetDocRequestSchema = joi.object({\n    dbType: joi.string().required().valid('firestore', 'realtime'),\n    collection: joi.string().required(),\n    documentId: joi.string().required(),\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYxLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFnQztBQUVuQiwyQkFBbUIsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQzVDLE1BQU0sRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUM7SUFDOUQsVUFBVSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7SUFDbkMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Q0FDcEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL2RhdGFiYXNlL21vZGVscy9nZXQtZG9jLXJlcXVlc3Quc2NoZW1hLnRzP2IwZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgam9pIGZyb20gJ0BoYXBpL2pvaSdcblxuZXhwb3J0IGNvbnN0IEdldERvY1JlcXVlc3RTY2hlbWEgPSBqb2kub2JqZWN0KHtcbiAgZGJUeXBlOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKS52YWxpZCgnZmlyZXN0b3JlJywgJ3JlYWx0aW1lJyksXG4gIGNvbGxlY3Rpb246IGpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBkb2N1bWVudElkOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbn0pXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///161\n")},713:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(548), exports);\n__exportStar(__webpack_require__(161), exports);\n__exportStar(__webpack_require__(40), exports);\n__exportStar(__webpack_require__(327), exports);\n__exportStar(__webpack_require__(671), exports);\n__exportStar(__webpack_require__(300), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzEzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUF1QztBQUN2QyxnREFBd0M7QUFDeEMsK0NBQTBDO0FBQzFDLGdEQUEyQztBQUMzQyxnREFBMEM7QUFDMUMsZ0RBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWJhc2Utd29yZHByZXNzLWZ1bmN0aW9ucy8uL3NyYy9hcGkvZGF0YWJhc2UvbW9kZWxzL2luZGV4LnRzPzRkNTYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9nZXQtZG9jLXJlcXVlc3QubW9kZWwnXG5leHBvcnQgKiBmcm9tICcuL2dldC1kb2MtcmVxdWVzdC5zY2hlbWEnXG5leHBvcnQgKiBmcm9tICcuL2NyZWF0ZS1kb2MtcmVxdWVzdC5tb2RlbCdcbmV4cG9ydCAqIGZyb20gJy4vY3JlYXRlLWRvYy1yZXF1ZXN0LnNjaGVtYSdcbmV4cG9ydCAqIGZyb20gJy4vZGVsZXRlLWRvYy1yZXF1ZXN0Lm1vZGVsJ1xuZXhwb3J0ICogZnJvbSAnLi9kb2MtcmVzcG9uc2UubW9kZWwnXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///713\n')},606:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.checkApplicationV1 = void 0;\nconst express_1 = __webpack_require__(860);\nconst controllers_1 = __webpack_require__(561);\nconst services_1 = __webpack_require__(745);\nconst checkApplicationV1 = () => {\n    const router = (0, express_1.Router)();\n    router.route('/getDoc').post((0, services_1.handleErrorAsync)(controllers_1.getDocument));\n    router.route('/createDoc').post((0, services_1.handleErrorAsync)(controllers_1.createDocument));\n    router.route('/updateDoc').post((0, services_1.handleErrorAsync)(controllers_1.updateDocument));\n    router.route('/deleteDoc').delete((0, services_1.handleErrorAsync)(controllers_1.deleteDocument));\n    return router;\n};\nexports.checkApplicationV1 = checkApplicationV1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA2LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUFnQztBQUNoQywrQ0FBNEY7QUFDNUYsNENBQXlEO0FBRWxELE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxFQUFFO0lBQ3JDLE1BQU0sTUFBTSxHQUFHLG9CQUFNLEdBQUU7SUFDdkIsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsK0JBQWdCLEVBQUMseUJBQVcsQ0FBQyxDQUFDO0lBQzNELE1BQU0sQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLCtCQUFnQixFQUFDLDRCQUFjLENBQUMsQ0FBQztJQUNqRSxNQUFNLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQywrQkFBZ0IsRUFBQyw0QkFBYyxDQUFDLENBQUM7SUFDakUsTUFBTSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsK0JBQWdCLEVBQUMsNEJBQWMsQ0FBQyxDQUFDO0lBQ25FLE9BQU8sTUFBTTtBQUNmLENBQUM7QUFQWSwwQkFBa0Isc0JBTzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWJhc2Utd29yZHByZXNzLWZ1bmN0aW9ucy8uL3NyYy9hcGkvZGF0YWJhc2Uvcm91dGVzL2luZGV4LnRzP2UzYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCB7IGdldERvY3VtZW50LCBjcmVhdGVEb2N1bWVudCwgdXBkYXRlRG9jdW1lbnQsIGRlbGV0ZURvY3VtZW50IH0gZnJvbSAnLi4vY29udHJvbGxlcnMnXG5pbXBvcnQgeyBoYW5kbGVFcnJvckFzeW5jIH0gZnJvbSAnQGZpcmViYXNlLWFwaS9zZXJ2aWNlcydcblxuZXhwb3J0IGNvbnN0IGNoZWNrQXBwbGljYXRpb25WMSA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gUm91dGVyKClcbiAgcm91dGVyLnJvdXRlKCcvZ2V0RG9jJykucG9zdChoYW5kbGVFcnJvckFzeW5jKGdldERvY3VtZW50KSlcbiAgcm91dGVyLnJvdXRlKCcvY3JlYXRlRG9jJykucG9zdChoYW5kbGVFcnJvckFzeW5jKGNyZWF0ZURvY3VtZW50KSlcbiAgcm91dGVyLnJvdXRlKCcvdXBkYXRlRG9jJykucG9zdChoYW5kbGVFcnJvckFzeW5jKHVwZGF0ZURvY3VtZW50KSlcbiAgcm91dGVyLnJvdXRlKCcvZGVsZXRlRG9jJykuZGVsZXRlKGhhbmRsZUVycm9yQXN5bmMoZGVsZXRlRG9jdW1lbnQpKVxuICByZXR1cm4gcm91dGVyXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///606\n")},331:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.validateUpdateDocRequest = exports.validateCreateDocRequest = exports.validateGetDocRequest = void 0;\nconst models_1 = __webpack_require__(713);\nconst validateGetDocRequest = (docRequest) => {\n    return models_1.GetDocRequestSchema.validate(docRequest);\n};\nexports.validateGetDocRequest = validateGetDocRequest;\nconst validateCreateDocRequest = (docRequest) => {\n    return models_1.CreateDocRequestSchema.validate(docRequest);\n};\nexports.validateCreateDocRequest = validateCreateDocRequest;\nconst validateUpdateDocRequest = (docRequest) => {\n    return models_1.CreateDocRequestSchema.validate(docRequest);\n};\nexports.validateUpdateDocRequest = validateUpdateDocRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMxLmpzIiwibWFwcGluZ3MiOiI7OztBQUNBLDBDQUF3RztBQUVqRyxNQUFNLHFCQUFxQixHQUFHLENBQUMsVUFBeUIsRUFBd0IsRUFBRTtJQUN2RixPQUFPLDRCQUFtQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7QUFDakQsQ0FBQztBQUZZLDZCQUFxQix5QkFFakM7QUFFTSxNQUFNLHdCQUF3QixHQUFHLENBQUMsVUFBNEIsRUFBd0IsRUFBRTtJQUM3RixPQUFPLCtCQUFzQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7QUFDcEQsQ0FBQztBQUZZLGdDQUF3Qiw0QkFFcEM7QUFFTSxNQUFNLHdCQUF3QixHQUFHLENBQUMsVUFBNEIsRUFBd0IsRUFBRTtJQUM3RixPQUFPLCtCQUFzQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7QUFDcEQsQ0FBQztBQUZZLGdDQUF3Qiw0QkFFcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS9kYXRhYmFzZS9zZXJ2aWNlcy9oZWxwZXIudHM/ZDVjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBqb2kgZnJvbSAnQGhhcGkvam9pJ1xuaW1wb3J0IHsgQ3JlYXRlRG9jUmVxdWVzdCwgR2V0RG9jUmVxdWVzdCwgR2V0RG9jUmVxdWVzdFNjaGVtYSwgQ3JlYXRlRG9jUmVxdWVzdFNjaGVtYSB9IGZyb20gJy4uL21vZGVscydcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlR2V0RG9jUmVxdWVzdCA9IChkb2NSZXF1ZXN0OiBHZXREb2NSZXF1ZXN0KTogam9pLlZhbGlkYXRpb25SZXN1bHQgPT4ge1xuICByZXR1cm4gR2V0RG9jUmVxdWVzdFNjaGVtYS52YWxpZGF0ZShkb2NSZXF1ZXN0KVxufVxuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVDcmVhdGVEb2NSZXF1ZXN0ID0gKGRvY1JlcXVlc3Q6IENyZWF0ZURvY1JlcXVlc3QpOiBqb2kuVmFsaWRhdGlvblJlc3VsdCA9PiB7XG4gIHJldHVybiBDcmVhdGVEb2NSZXF1ZXN0U2NoZW1hLnZhbGlkYXRlKGRvY1JlcXVlc3QpXG59XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVVwZGF0ZURvY1JlcXVlc3QgPSAoZG9jUmVxdWVzdDogQ3JlYXRlRG9jUmVxdWVzdCk6IGpvaS5WYWxpZGF0aW9uUmVzdWx0ID0+IHtcbiAgcmV0dXJuIENyZWF0ZURvY1JlcXVlc3RTY2hlbWEudmFsaWRhdGUoZG9jUmVxdWVzdClcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///331\n')},527:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(331), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL2RhdGFiYXNlL3NlcnZpY2VzL2luZGV4LnRzPzI2NjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9oZWxwZXInXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///527\n')},477:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(433), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL21lc3NhZ2UvY29udHJvbGxlcnMvaW5kZXgudHM/NWI5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL21lc3NhZ2UnXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///477\n')},433:function(__unused_webpack_module,exports,__webpack_require__){eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.sendMessage = void 0;\nconst admin = __webpack_require__(509);\nconst models_1 = __webpack_require__(563);\nconst services_1 = __webpack_require__(745);\nconst services_2 = __webpack_require__(803);\nconst message = admin.messaging();\n// const sendSingleMessage = async (messageData): Promise<string> => {\n//   return message.send(messageData)\n// }\n// const sendMulticast = async (messageData): Promise<admin.messaging.BatchResponse> => {\n//   return message.sendMulticast(messageData)\n// }\nconst sendMessage = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const requestMessage = req.body;\n    const validatedRequest = (0, services_2.validateMessageRequest)(requestMessage);\n    if (validatedRequest.error != null) {\n        return res.json((0, services_1.createStatusError)(validatedRequest.error.message));\n    }\n    const result = {\n        status: true,\n        message: '',\n    };\n    switch (requestMessage.type) {\n        case models_1.MessageType.Token:\n            console.error(`${requestMessage.type} type is not support at the moment`);\n            return res.json((0, services_1.createStatusError)(`${requestMessage.type} type is not support at the moment`));\n        // This registration token comes from the client FCM SDKs.\n        // var registrationToken = [\n        //   'd3xnVgjraZvw2yGtxKFdSx:APA91bHFZ_CneasOlh01TbtV-LdScKQiyea4KCiM_qmrLTuOS5pDfWLE1lFY-CuMgzwxLpPl-8tVd9Biabt8onlWIB6NOjopytU3HfmBi1mws_eAP4ysYoOvFl6jqtjlu5-SXyr_Mtw0'\n        // ]\n        // let result\n        // const requestType = requestMessage.subtype\n        // const messageData: MessageData = {\n        //   data: requestMessage.data\n        // }\n        // if (requestType === MessageSubType.Single) {\n        //   console.log(`Send single message...`)\n        //   messageData.token =\n        //     'd3xnVgjraZvw2yGtxKFdSx:APA91bHFZ_CneasOlh01TbtV-LdScKQiyea4KCiM_qmrLTuOS5pDfWLE1lFY-CuMgzwxLpPl-8tVd9Biabt8onlWIB6NOjopytU3HfmBi1mws_eAP4ysYoOvFl6jqtjlu5-SXyr_Mtw0'\n        //   result = await sendSingleMessage(messageData)\n        // } else if (requestType === MessageSubType.Multicast) {\n        //   messageData.tokens = registrationToken\n        //   result = await sendMulticast(messageData)\n        // }\n        // return res.json(result)\n        case models_1.MessageType.Topic:\n        case models_1.MessageType.Condition:\n            // await message.subscribeToTopic(\n            //   [\n            //     'fyO_wT4HtgpCAiv-DMx_Lg:APA91bEG9hj0Ow0v5h6MV3JM0C32bj5kq5etQNo83qQ9kxAJrxTBlhoHOJRRdB9Nd0XEvo9dASw3ZxgHoAhG4soyZ-Ji8ViK6NbZ3KhX24ePbDj-8GYZXYzPxFoBcO9uHMs0R7fbvpBl'\n            //   ],\n            //   'highScores'\n            // )\n            console.log(`Send message to ${requestMessage.type}...`, JSON.stringify(requestMessage.data));\n            const data = requestMessage.data;\n            const topicResponse = yield message.send(data);\n            console.log('Successfully sent message:', topicResponse);\n            result.message = topicResponse;\n            return res.json(result);\n        default:\n            console.error(`${requestMessage.type} doesn't have correct type!`);\n            return res.json((0, services_1.createStatusError)(`${requestMessage.type} doesn't have correct type!`));\n    }\n});\nexports.sendMessage = sendMessage;\n// export const saveToken = async (req: Request, res: Response) => {\n//   const requestToken = req.body\n//   return res.json(req.headers)\n// }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLHVDQUF1QztBQUV2QywwQ0FBdUQ7QUFDdkQsNENBQTBEO0FBQzFELDRDQUFvRDtBQUdwRCxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsU0FBUyxFQUFFO0FBRWpDLHNFQUFzRTtBQUN0RSxxQ0FBcUM7QUFDckMsSUFBSTtBQUVKLHlGQUF5RjtBQUN6Riw4Q0FBOEM7QUFDOUMsSUFBSTtBQUVHLE1BQU0sV0FBVyxHQUFHLENBQU8sR0FBWSxFQUFFLEdBQWEsRUFBRSxFQUFFO0lBQy9ELE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxJQUFzQjtJQUVqRCxNQUFNLGdCQUFnQixHQUFHLHFDQUFzQixFQUFDLGNBQWMsQ0FBQztJQUMvRCxJQUFJLGdCQUFnQixDQUFDLEtBQUssSUFBSSxJQUFJLEVBQUU7UUFDbEMsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLGdDQUFpQixFQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUNuRTtJQUVELE1BQU0sTUFBTSxHQUFnQjtRQUMxQixNQUFNLEVBQUUsSUFBSTtRQUNaLE9BQU8sRUFBRSxFQUFFO0tBQ1o7SUFFRCxRQUFRLGNBQWMsQ0FBQyxJQUFJLEVBQUU7UUFDM0IsS0FBSyxvQkFBVyxDQUFDLEtBQUs7WUFDcEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLGNBQWMsQ0FBQyxJQUFJLG9DQUFvQyxDQUFDO1lBQ3pFLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxnQ0FBaUIsRUFBQyxHQUFHLGNBQWMsQ0FBQyxJQUFJLG9DQUFvQyxDQUFDLENBQUM7UUFFaEcsMERBQTBEO1FBQzFELDRCQUE0QjtRQUM1QiwwS0FBMEs7UUFDMUssSUFBSTtRQUVKLGFBQWE7UUFFYiw2Q0FBNkM7UUFFN0MscUNBQXFDO1FBQ3JDLDhCQUE4QjtRQUM5QixJQUFJO1FBRUosK0NBQStDO1FBQy9DLDBDQUEwQztRQUUxQyx3QkFBd0I7UUFDeEIsNEtBQTRLO1FBQzVLLGtEQUFrRDtRQUNsRCx5REFBeUQ7UUFDekQsMkNBQTJDO1FBQzNDLDhDQUE4QztRQUM5QyxJQUFJO1FBRUosMEJBQTBCO1FBRTFCLEtBQUssb0JBQVcsQ0FBQyxLQUFLLENBQUM7UUFDdkIsS0FBSyxvQkFBVyxDQUFDLFNBQVM7WUFDeEIsa0NBQWtDO1lBQ2xDLE1BQU07WUFDTiw0S0FBNEs7WUFDNUssT0FBTztZQUNQLGlCQUFpQjtZQUNqQixJQUFJO1lBQ0osT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsY0FBYyxDQUFDLElBQUksS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRTdGLE1BQU0sSUFBSSxHQUFHLGNBQWMsQ0FBQyxJQUErQjtZQUMzRCxNQUFNLGFBQWEsR0FBRyxNQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBRTlDLE9BQU8sQ0FBQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsYUFBYSxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYTtZQUM5QixPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3pCO1lBQ0UsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLGNBQWMsQ0FBQyxJQUFJLDZCQUE2QixDQUFDO1lBQ2xFLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxnQ0FBaUIsRUFBQyxHQUFHLGNBQWMsQ0FBQyxJQUFJLDZCQUE2QixDQUFDLENBQUM7S0FDMUY7QUFDSCxDQUFDO0FBaEVZLG1CQUFXLGVBZ0V2QjtBQUVELG9FQUFvRTtBQUNwRSxrQ0FBa0M7QUFDbEMsaUNBQWlDO0FBQ2pDLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS9tZXNzYWdlL2NvbnRyb2xsZXJzL21lc3NhZ2UudHM/MWVjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhZG1pbiBmcm9tICdmaXJlYmFzZS1hZG1pbidcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCB7IE1lc3NhZ2VSZXF1ZXN0LCBNZXNzYWdlVHlwZSB9IGZyb20gJy4uL21vZGVscydcbmltcG9ydCB7IGNyZWF0ZVN0YXR1c0Vycm9yIH0gZnJvbSAnQGZpcmViYXNlLWFwaS9zZXJ2aWNlcydcbmltcG9ydCB7IHZhbGlkYXRlTWVzc2FnZVJlcXVlc3QgfSBmcm9tICcuLi9zZXJ2aWNlcydcbmltcG9ydCB7IERvY1Jlc3BvbnNlIH0gZnJvbSAnQGZpcmViYXNlLWFwaS9hcGkvZGF0YWJhc2UvbW9kZWxzJ1xuXG5jb25zdCBtZXNzYWdlID0gYWRtaW4ubWVzc2FnaW5nKClcblxuLy8gY29uc3Qgc2VuZFNpbmdsZU1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZURhdGEpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuLy8gICByZXR1cm4gbWVzc2FnZS5zZW5kKG1lc3NhZ2VEYXRhKVxuLy8gfVxuXG4vLyBjb25zdCBzZW5kTXVsdGljYXN0ID0gYXN5bmMgKG1lc3NhZ2VEYXRhKTogUHJvbWlzZTxhZG1pbi5tZXNzYWdpbmcuQmF0Y2hSZXNwb25zZT4gPT4ge1xuLy8gICByZXR1cm4gbWVzc2FnZS5zZW5kTXVsdGljYXN0KG1lc3NhZ2VEYXRhKVxuLy8gfVxuXG5leHBvcnQgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IHJlcXVlc3RNZXNzYWdlID0gcmVxLmJvZHkgYXMgTWVzc2FnZVJlcXVlc3RcblxuICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0gdmFsaWRhdGVNZXNzYWdlUmVxdWVzdChyZXF1ZXN0TWVzc2FnZSlcbiAgaWYgKHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IgIT0gbnVsbCkge1xuICAgIHJldHVybiByZXMuanNvbihjcmVhdGVTdGF0dXNFcnJvcih2YWxpZGF0ZWRSZXF1ZXN0LmVycm9yLm1lc3NhZ2UpKVxuICB9XG5cbiAgY29uc3QgcmVzdWx0OiBEb2NSZXNwb25zZSA9IHtcbiAgICBzdGF0dXM6IHRydWUsXG4gICAgbWVzc2FnZTogJycsXG4gIH1cblxuICBzd2l0Y2ggKHJlcXVlc3RNZXNzYWdlLnR5cGUpIHtcbiAgICBjYXNlIE1lc3NhZ2VUeXBlLlRva2VuOlxuICAgICAgY29uc29sZS5lcnJvcihgJHtyZXF1ZXN0TWVzc2FnZS50eXBlfSB0eXBlIGlzIG5vdCBzdXBwb3J0IGF0IHRoZSBtb21lbnRgKVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKGAke3JlcXVlc3RNZXNzYWdlLnR5cGV9IHR5cGUgaXMgbm90IHN1cHBvcnQgYXQgdGhlIG1vbWVudGApKVxuXG4gICAgLy8gVGhpcyByZWdpc3RyYXRpb24gdG9rZW4gY29tZXMgZnJvbSB0aGUgY2xpZW50IEZDTSBTREtzLlxuICAgIC8vIHZhciByZWdpc3RyYXRpb25Ub2tlbiA9IFtcbiAgICAvLyAgICdkM3huVmdqcmFadncyeUd0eEtGZFN4OkFQQTkxYkhGWl9DbmVhc09saDAxVGJ0Vi1MZFNjS1FpeWVhNEtDaU1fcW1yTFR1T1M1cERmV0xFMWxGWS1DdU1nend4THBQbC04dFZkOUJpYWJ0OG9ubFdJQjZOT2pvcHl0VTNIZm1CaTFtd3NfZUFQNHlzWW9PdkZsNmpxdGpsdTUtU1h5cl9NdHcwJ1xuICAgIC8vIF1cblxuICAgIC8vIGxldCByZXN1bHRcblxuICAgIC8vIGNvbnN0IHJlcXVlc3RUeXBlID0gcmVxdWVzdE1lc3NhZ2Uuc3VidHlwZVxuXG4gICAgLy8gY29uc3QgbWVzc2FnZURhdGE6IE1lc3NhZ2VEYXRhID0ge1xuICAgIC8vICAgZGF0YTogcmVxdWVzdE1lc3NhZ2UuZGF0YVxuICAgIC8vIH1cblxuICAgIC8vIGlmIChyZXF1ZXN0VHlwZSA9PT0gTWVzc2FnZVN1YlR5cGUuU2luZ2xlKSB7XG4gICAgLy8gICBjb25zb2xlLmxvZyhgU2VuZCBzaW5nbGUgbWVzc2FnZS4uLmApXG5cbiAgICAvLyAgIG1lc3NhZ2VEYXRhLnRva2VuID1cbiAgICAvLyAgICAgJ2QzeG5WZ2pyYVp2dzJ5R3R4S0ZkU3g6QVBBOTFiSEZaX0NuZWFzT2xoMDFUYnRWLUxkU2NLUWl5ZWE0S0NpTV9xbXJMVHVPUzVwRGZXTEUxbEZZLUN1TWd6d3hMcFBsLTh0VmQ5QmlhYnQ4b25sV0lCNk5Pam9weXRVM0hmbUJpMW13c19lQVA0eXNZb092Rmw2anF0amx1NS1TWHlyX010dzAnXG4gICAgLy8gICByZXN1bHQgPSBhd2FpdCBzZW5kU2luZ2xlTWVzc2FnZShtZXNzYWdlRGF0YSlcbiAgICAvLyB9IGVsc2UgaWYgKHJlcXVlc3RUeXBlID09PSBNZXNzYWdlU3ViVHlwZS5NdWx0aWNhc3QpIHtcbiAgICAvLyAgIG1lc3NhZ2VEYXRhLnRva2VucyA9IHJlZ2lzdHJhdGlvblRva2VuXG4gICAgLy8gICByZXN1bHQgPSBhd2FpdCBzZW5kTXVsdGljYXN0KG1lc3NhZ2VEYXRhKVxuICAgIC8vIH1cblxuICAgIC8vIHJldHVybiByZXMuanNvbihyZXN1bHQpXG5cbiAgICBjYXNlIE1lc3NhZ2VUeXBlLlRvcGljOlxuICAgIGNhc2UgTWVzc2FnZVR5cGUuQ29uZGl0aW9uOlxuICAgICAgLy8gYXdhaXQgbWVzc2FnZS5zdWJzY3JpYmVUb1RvcGljKFxuICAgICAgLy8gICBbXG4gICAgICAvLyAgICAgJ2Z5T193VDRIdGdwQ0Fpdi1ETXhfTGc6QVBBOTFiRUc5aGowT3cwdjVoNk1WM0pNMEMzMmJqNWtxNWV0UU5vODNxUTlreEFKcnhUQmxob0hPSlJSZEI5TmQwWEV2bzlkQVN3M1p4Z0hvQWhHNHNveVotSmk4VmlLNk5iWjNLaFgyNGVQYkRqLThHWVpYWXpQeEZvQmNPOXVITXMwUjdmYnZwQmwnXG4gICAgICAvLyAgIF0sXG4gICAgICAvLyAgICdoaWdoU2NvcmVzJ1xuICAgICAgLy8gKVxuICAgICAgY29uc29sZS5sb2coYFNlbmQgbWVzc2FnZSB0byAke3JlcXVlc3RNZXNzYWdlLnR5cGV9Li4uYCwgSlNPTi5zdHJpbmdpZnkocmVxdWVzdE1lc3NhZ2UuZGF0YSkpXG5cbiAgICAgIGNvbnN0IGRhdGEgPSByZXF1ZXN0TWVzc2FnZS5kYXRhIGFzIGFkbWluLm1lc3NhZ2luZy5NZXNzYWdlXG4gICAgICBjb25zdCB0b3BpY1Jlc3BvbnNlID0gYXdhaXQgbWVzc2FnZS5zZW5kKGRhdGEpXG5cbiAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgc2VudCBtZXNzYWdlOicsIHRvcGljUmVzcG9uc2UpXG4gICAgICByZXN1bHQubWVzc2FnZSA9IHRvcGljUmVzcG9uc2VcbiAgICAgIHJldHVybiByZXMuanNvbihyZXN1bHQpXG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7cmVxdWVzdE1lc3NhZ2UudHlwZX0gZG9lc24ndCBoYXZlIGNvcnJlY3QgdHlwZSFgKVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKGAke3JlcXVlc3RNZXNzYWdlLnR5cGV9IGRvZXNuJ3QgaGF2ZSBjb3JyZWN0IHR5cGUhYCkpXG4gIH1cbn1cblxuLy8gZXhwb3J0IGNvbnN0IHNhdmVUb2tlbiA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbi8vICAgY29uc3QgcmVxdWVzdFRva2VuID0gcmVxLmJvZHlcbi8vICAgcmV0dXJuIHJlcy5qc29uKHJlcS5oZWFkZXJzKVxuLy8gfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///433\n")},623:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.listenerHttpMg = exports.mgApp = void 0;\nconst cors = __webpack_require__(582);\nconst express = __webpack_require__(860);\nconst bodyParser = __webpack_require__(986);\nconst functions = __webpack_require__(744);\nconst config_1 = __webpack_require__(611);\nconst routes_1 = __webpack_require__(595);\nconst services_1 = __webpack_require__(745);\nconst router = express.Router();\nexports.mgApp = express();\nexports.mgApp.use(bodyParser.json());\nexports.mgApp.use(cors({ origin: true }));\nexports.mgApp.use('/', router);\nrouter.use(services_1.tokenValidation);\nrouter.use('/v1', (0, routes_1.checkApplicationV1)());\n// Handle all unknown requests\nexports.mgApp.use('*', (req, res) => {\n    res.status(404).send();\n});\nconst runtimeOpts = {};\nexports.listenerHttpMg = functions\n    .region(...config_1.config.regions)\n    .runWith(runtimeOpts)\n    .https.onRequest(exports.mgApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIzLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLHNDQUE0QjtBQUM1Qix5Q0FBa0M7QUFDbEMsNENBQXlDO0FBQ3pDLDJDQUErQztBQUUvQywwQ0FBNkM7QUFDN0MsMENBQTZDO0FBQzdDLDRDQUF3RDtBQUV4RCxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQUssR0FBRyxPQUFPLEVBQUU7QUFDOUIsYUFBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDNUIsYUFBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUNqQyxhQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUM7QUFFdEIsTUFBTSxDQUFDLEdBQUcsQ0FBQywwQkFBZSxDQUFDO0FBQzNCLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLCtCQUFrQixHQUFFLENBQUM7QUFFdkMsOEJBQThCO0FBQzlCLGFBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBb0IsRUFBRSxHQUFxQixFQUFFLEVBQUU7SUFDN0QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUU7QUFDeEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQTZCLEVBQUU7QUFDbkMsc0JBQWMsR0FBRyxTQUFTO0tBQ3BDLE1BQU0sQ0FBQyxHQUFHLGVBQU0sQ0FBQyxPQUFPLENBQUM7S0FDekIsT0FBTyxDQUFDLFdBQVcsQ0FBQztLQUNwQixLQUFLLENBQUMsU0FBUyxDQUFDLGFBQUssQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL21lc3NhZ2UvaW5kZXgudHM/OTg4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjb3JzIGZyb20gJ2NvcnMnXG5pbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgKiBhcyBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJ1xuaW1wb3J0ICogYXMgZnVuY3Rpb25zIGZyb20gJ2ZpcmViYXNlLWZ1bmN0aW9ucydcblxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnQGZpcmViYXNlLWFwaS9jb25maWcnXG5pbXBvcnQgeyBjaGVja0FwcGxpY2F0aW9uVjEgfSBmcm9tICcuL3JvdXRlcydcbmltcG9ydCB7IHRva2VuVmFsaWRhdGlvbiB9IGZyb20gJ0BmaXJlYmFzZS1hcGkvc2VydmljZXMnXG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcbmV4cG9ydCBjb25zdCBtZ0FwcCA9IGV4cHJlc3MoKVxubWdBcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxubWdBcHAudXNlKGNvcnMoeyBvcmlnaW46IHRydWUgfSkpXG5tZ0FwcC51c2UoJy8nLCByb3V0ZXIpXG5cbnJvdXRlci51c2UodG9rZW5WYWxpZGF0aW9uKVxucm91dGVyLnVzZSgnL3YxJywgY2hlY2tBcHBsaWNhdGlvblYxKCkpXG5cbi8vIEhhbmRsZSBhbGwgdW5rbm93biByZXF1ZXN0c1xubWdBcHAudXNlKCcqJywgKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UpID0+IHtcbiAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoKVxufSlcblxuY29uc3QgcnVudGltZU9wdHM6IGZ1bmN0aW9ucy5SdW50aW1lT3B0aW9ucyA9IHt9XG5leHBvcnQgY29uc3QgbGlzdGVuZXJIdHRwTWcgPSBmdW5jdGlvbnNcbiAgLnJlZ2lvbiguLi5jb25maWcucmVnaW9ucylcbiAgLnJ1bldpdGgocnVudGltZU9wdHMpXG4gIC5odHRwcy5vblJlcXVlc3QobWdBcHApXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///623\n")},563:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(262), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL21lc3NhZ2UvbW9kZWxzL2luZGV4LnRzP2RkMWUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9tZXNzYWdlLXJlcXVlc3QubW9kZWwnXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///563\n')},262:(__unused_webpack_module,exports)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.MessageSubType = exports.MessageType = void 0;\nvar MessageType;\n(function (MessageType) {\n    MessageType["Token"] = "TOKEN";\n    MessageType["Topic"] = "TOPIC";\n    MessageType["Condition"] = "CONDITION";\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\nvar MessageSubType;\n(function (MessageSubType) {\n    MessageSubType["Single"] = "SINGLE";\n    MessageSubType["Multicast"] = "MULTICAST";\n})(MessageSubType = exports.MessageSubType || (exports.MessageSubType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYyLmpzIiwibWFwcGluZ3MiOiI7OztBQUVBLElBQVksV0FJWDtBQUpELFdBQVksV0FBVztJQUNyQiw4QkFBZTtJQUNmLDhCQUFlO0lBQ2Ysc0NBQXVCO0FBQ3pCLENBQUMsRUFKVyxXQUFXLEdBQVgsbUJBQVcsS0FBWCxtQkFBVyxRQUl0QjtBQUVELElBQVksY0FHWDtBQUhELFdBQVksY0FBYztJQUN4QixtQ0FBaUI7SUFDakIseUNBQXVCO0FBQ3pCLENBQUMsRUFIVyxjQUFjLEdBQWQsc0JBQWMsS0FBZCxzQkFBYyxRQUd6QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL21lc3NhZ2UvbW9kZWxzL21lc3NhZ2UtcmVxdWVzdC5tb2RlbC50cz9jZWYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFkbWluIGZyb20gJ2ZpcmViYXNlLWFkbWluJ1xuXG5leHBvcnQgZW51bSBNZXNzYWdlVHlwZSB7XG4gIFRva2VuID0gJ1RPS0VOJyxcbiAgVG9waWMgPSAnVE9QSUMnLFxuICBDb25kaXRpb24gPSAnQ09ORElUSU9OJyxcbn1cblxuZXhwb3J0IGVudW0gTWVzc2FnZVN1YlR5cGUge1xuICBTaW5nbGUgPSAnU0lOR0xFJyxcbiAgTXVsdGljYXN0ID0gJ01VTFRJQ0FTVCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZVJlcXVlc3Qge1xuICB0eXBlOiBNZXNzYWdlVHlwZVxuICBzdWJ0eXBlPzogTWVzc2FnZVN1YlR5cGVcbiAgLy8gdG9waWM/OiBzdHJpbmdcbiAgLy8gdG9rZW5Db2xsZWN0aW9uPzogc3RyaW5nXG4gIGRhdGE6IGFkbWluLm1lc3NhZ2luZy5NZXNzYWdlXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///262\n')},251:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.MessgeRequestSchema = void 0;\nconst joi = __webpack_require__(414);\nconst message_request_model_1 = __webpack_require__(262);\nexports.MessgeRequestSchema = joi.object({\n    type: joi\n        .string()\n        .valid(...Object.values(message_request_model_1.MessageType))\n        .required(),\n    subType: joi.string().optional(),\n    // tokenCollection: joi.string().optional(),\n    data: joi.object().min(1).required(),\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUxLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFnQztBQUNoQyx5REFBcUQ7QUFFeEMsMkJBQW1CLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztJQUM1QyxJQUFJLEVBQUUsR0FBRztTQUNOLE1BQU0sRUFBRTtTQUNSLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsbUNBQVcsQ0FBQyxDQUFDO1NBQ3BDLFFBQVEsRUFBRTtJQUNiLE9BQU8sRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ2hDLDRDQUE0QztJQUM1QyxJQUFJLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7Q0FDckMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL21lc3NhZ2UvbW9kZWxzL21lc3NhZ2UtcmVxdWVzdC5zY2hlbWEudHM/MzIxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBqb2kgZnJvbSAnQGhhcGkvam9pJ1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICcuL21lc3NhZ2UtcmVxdWVzdC5tb2RlbCdcblxuZXhwb3J0IGNvbnN0IE1lc3NnZVJlcXVlc3RTY2hlbWEgPSBqb2kub2JqZWN0KHtcbiAgdHlwZTogam9pXG4gICAgLnN0cmluZygpXG4gICAgLnZhbGlkKC4uLk9iamVjdC52YWx1ZXMoTWVzc2FnZVR5cGUpKVxuICAgIC5yZXF1aXJlZCgpLFxuICBzdWJUeXBlOiBqb2kuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgLy8gdG9rZW5Db2xsZWN0aW9uOiBqb2kuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZGF0YTogam9pLm9iamVjdCgpLm1pbigxKS5yZXF1aXJlZCgpLFxufSlcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///251\n')},595:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.checkApplicationV1 = void 0;\nconst express_1 = __webpack_require__(860);\nconst controllers_1 = __webpack_require__(477);\nconst services_1 = __webpack_require__(745);\nconst checkApplicationV1 = () => {\n    const router = (0, express_1.Router)();\n    // router.route('/saveToken').post(handleErrorAsync(saveToken))\n    router.route('/sendMessage').post((0, services_1.handleErrorAsync)(controllers_1.sendMessage));\n    return router;\n};\nexports.checkApplicationV1 = checkApplicationV1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTk1LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUFnQztBQUNoQywrQ0FBNEM7QUFDNUMsNENBQXlEO0FBRWxELE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxFQUFFO0lBQ3JDLE1BQU0sTUFBTSxHQUFHLG9CQUFNLEdBQUU7SUFDdkIsK0RBQStEO0lBQy9ELE1BQU0sQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLCtCQUFnQixFQUFDLHlCQUFXLENBQUMsQ0FBQztJQUNoRSxPQUFPLE1BQU07QUFDZixDQUFDO0FBTFksMEJBQWtCLHNCQUs5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL21lc3NhZ2Uvcm91dGVzL2luZGV4LnRzPzczYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCB7IHNlbmRNZXNzYWdlIH0gZnJvbSAnLi4vY29udHJvbGxlcnMnXG5pbXBvcnQgeyBoYW5kbGVFcnJvckFzeW5jIH0gZnJvbSAnQGZpcmViYXNlLWFwaS9zZXJ2aWNlcydcblxuZXhwb3J0IGNvbnN0IGNoZWNrQXBwbGljYXRpb25WMSA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gUm91dGVyKClcbiAgLy8gcm91dGVyLnJvdXRlKCcvc2F2ZVRva2VuJykucG9zdChoYW5kbGVFcnJvckFzeW5jKHNhdmVUb2tlbikpXG4gIHJvdXRlci5yb3V0ZSgnL3NlbmRNZXNzYWdlJykucG9zdChoYW5kbGVFcnJvckFzeW5jKHNlbmRNZXNzYWdlKSlcbiAgcmV0dXJuIHJvdXRlclxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///595\n")},797:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.validateMessageRequest = void 0;\nconst message_request_schema_1 = __webpack_require__(251);\nconst validateMessageRequest = (messageRequest) => {\n    return message_request_schema_1.MessgeRequestSchema.validate(messageRequest);\n};\nexports.validateMessageRequest = validateMessageRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzk3LmpzIiwibWFwcGluZ3MiOiI7OztBQUVBLDBEQUFzRTtBQUUvRCxNQUFNLHNCQUFzQixHQUFHLENBQUMsY0FBOEIsRUFBd0IsRUFBRTtJQUM3RixPQUFPLDRDQUFtQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUM7QUFDckQsQ0FBQztBQUZZLDhCQUFzQiwwQkFFbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS9tZXNzYWdlL3NlcnZpY2VzL2hlbHBlci50cz9lZTcyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGpvaSBmcm9tICdAaGFwaS9qb2knXG5pbXBvcnQgeyBNZXNzYWdlUmVxdWVzdCB9IGZyb20gJy4uL21vZGVscydcbmltcG9ydCB7IE1lc3NnZVJlcXVlc3RTY2hlbWEgfSBmcm9tICcuLi9tb2RlbHMvbWVzc2FnZS1yZXF1ZXN0LnNjaGVtYSdcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlTWVzc2FnZVJlcXVlc3QgPSAobWVzc2FnZVJlcXVlc3Q6IE1lc3NhZ2VSZXF1ZXN0KTogam9pLlZhbGlkYXRpb25SZXN1bHQgPT4ge1xuICByZXR1cm4gTWVzc2dlUmVxdWVzdFNjaGVtYS52YWxpZGF0ZShtZXNzYWdlUmVxdWVzdClcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///797\n')},803:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(797), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL21lc3NhZ2Uvc2VydmljZXMvaW5kZXgudHM/YTVkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2hlbHBlcidcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///803\n')},767:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(589), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzY3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUFzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL3VzZXIvY29udHJvbGxlcnMvaW5kZXgudHM/OTVkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL3VzZXInXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///767\n')},589:function(__unused_webpack_module,exports,__webpack_require__){eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.signOut = exports.updateUser = exports.deleteUser = exports.importUsers = exports.getUsers = exports.getUser = exports.addUser = void 0;\nconst services_1 = __webpack_require__(745);\nconst admin = __webpack_require__(509);\nconst functions = __webpack_require__(744);\nconst services_2 = __webpack_require__(590);\nconst IMPORT_USER_SIZE = 1000;\nconst listAllUsers = (nextPageToken) => __awaiter(void 0, void 0, void 0, function* () {\n    // List batch of users, 1000 at a time.\n    return admin\n        .auth()\n        .listUsers(1000, nextPageToken)\n        .then((listUsersResult) => __awaiter(void 0, void 0, void 0, function* () {\n        // List of users to return\n        let users = [];\n        listUsersResult.users.forEach((userRecord) => {\n            const user = userRecord.toJSON();\n            delete user['passwordHash'];\n            delete user['passwordSalt'];\n            users.push(user);\n        });\n        if (listUsersResult.pageToken) {\n            // List next batch of users.\n            const nextUsers = yield listAllUsers(listUsersResult.pageToken);\n            users = [...users, ...nextUsers];\n        }\n        return users;\n    }))\n        .catch((error) => {\n        console.log('Error listing users:', error);\n        throw new Error(error.message);\n    });\n});\nconst addUser = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const userDataRequest = req.body;\n    const validatedRequest = (0, services_2.validateNewUseRequest)(userDataRequest);\n    if (validatedRequest.error != null) {\n        res.json((0, services_1.createStatusError)(validatedRequest.error.message));\n    }\n    admin\n        .auth()\n        .createUser(validatedRequest.value)\n        .then(function (userRecord) {\n        // See the UserRecord reference doc for the contents of userRecord.\n        console.log('Successfully created new user:', userRecord.uid);\n        res.json({\n            status: true,\n            message: `Successfully created new user: ${userRecord.uid}`,\n        });\n    })\n        .catch(function (error) {\n        console.log('Error creating new user:', error);\n        res.json({\n            status: false,\n            message: error.message,\n        });\n    });\n});\nexports.addUser = addUser;\nconst getUser = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const userId = req.params.userId;\n    const { fields = null } = req.query;\n    try {\n        const user = yield admin.auth().getUser(userId);\n        // Return only requested field\n        if (fields) {\n            const returnUser = {};\n            for (const field of fields.split(',')) {\n                if (['lastSignInTime', 'creationTime'].includes(field)) {\n                    returnUser[field] = user.metadata[field];\n                }\n                else {\n                    returnUser[field] = user[field];\n                }\n            }\n            return res.status(200).json(returnUser);\n        }\n        return res.status(200).json(user);\n    }\n    catch (error) {\n        return res.status(400).json({\n            status: false,\n            message: error.message,\n        });\n    }\n});\nexports.getUser = getUser;\nconst getUsers = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const users = yield listAllUsers();\n    return res.status(200).json(users);\n});\nexports.getUsers = getUsers;\nconst importUsers = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const users = req.body;\n        const validatedRequest = (0, services_2.validateWordPressUserRequest)(users);\n        if (validatedRequest.error != null) {\n            functions.logger.error(validatedRequest.error.details, { structuredData: true });\n            return res.status(400).json((0, services_1.createStatusError)(validatedRequest.error.message));\n        }\n        const transformedUsers = (0, services_2.transformWordPressUsers)(users);\n        for (let i = 0; i < transformedUsers.length; i += IMPORT_USER_SIZE) {\n            const readyUsers = transformedUsers.slice(i, i + IMPORT_USER_SIZE);\n            functions.logger.info(`Import users from ${i} to ${i + readyUsers.length}`, { structuredData: true });\n            yield (0, services_2.importUsersToFirebase)(readyUsers);\n        }\n        return res.status(200).json({\n            status: true,\n            message: `Successfully import ${transformedUsers.length} users!`,\n        });\n    }\n    catch (error) {\n        return res.status(400).json({\n            status: false,\n            message: error.message,\n        });\n    }\n});\nexports.importUsers = importUsers;\nconst deleteUser = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const userId = req.params.userId;\n    try {\n        yield admin.auth().deleteUser(userId);\n        return res.status(204).json({\n            status: true,\n            message: `Successfully deleted ${userId}`,\n        });\n    }\n    catch (error) {\n        return res.status(400).json({\n            status: false,\n            message: error.message,\n        });\n    }\n});\nexports.deleteUser = deleteUser;\nconst updateUser = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    const userId = req.params.userId;\n    const userDataRequest = req.body;\n    const validatedRequest = (0, services_2.validateNewUseRequest)(userDataRequest);\n    if (validatedRequest.error != null) {\n        console.log('Validation Error', JSON.stringify(validatedRequest.error.message));\n        return res.json((0, services_1.createStatusError)(validatedRequest.error.message));\n    }\n    try {\n        console.log(`Start updating users: ${userId}`);\n        let customClaimsData = userDataRequest.customClaims;\n        if (customClaimsData !== '' && customClaimsData != null) {\n            console.log(`Custom claims exist`, customClaimsData);\n            if (typeof customClaimsData === 'string') {\n                customClaimsData = JSON.parse(customClaimsData);\n            }\n        }\n        yield admin.auth().setCustomUserClaims(userId, customClaimsData);\n        delete userDataRequest.customClaims;\n        if (userDataRequest.phoneNumber === '') {\n            userDataRequest.phoneNumber = null;\n        }\n        console.log('userDataRequest after claims', JSON.stringify(userDataRequest));\n        yield admin.auth().updateUser(userId, userDataRequest);\n        return res.status(200).json({\n            status: true,\n            message: `Successfully updated ${userId}`,\n        });\n    }\n    catch (error) {\n        console.error('Error', JSON.stringify(error));\n        return res.status(200).json({\n            status: false,\n            message: error.message,\n        });\n    }\n});\nexports.updateUser = updateUser;\nconst signOut = (req, res) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const uid = req.headers['uid'];\n        if (uid)\n            yield admin.auth().revokeRefreshTokens(uid);\n        return res.status(200).json({ status: true, message: `Successfully log out for ${uid}!` });\n    }\n    catch (error) {\n        console.error(error.message);\n        return res.status(200).json({ status: false, message: error.message });\n    }\n});\nexports.signOut = signOut;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLEtBQUssQ0FBQyxDQUFDO1FBRTdDLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDMUIsTUFBTSxFQUFFLEtBQUs7WUFDYixPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU87U0FDdkIsQ0FBQztLQUNIO0FBQ0gsQ0FBQztBQTdDWSxrQkFBVSxjQTZDdEI7QUFFTSxNQUFNLE9BQU8sR0FBRyxDQUFPLEdBQVksRUFBRSxHQUFhLEVBQUUsRUFBRTtJQUMzRCxJQUFJO1FBQ0YsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQVc7UUFDeEMsSUFBSSxHQUFHO1lBQUUsTUFBTSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDO1FBQ3BELE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSw0QkFBNEIsR0FBRyxHQUFHLEVBQUUsQ0FBQztLQUMzRjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO1FBQzVCLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7S0FDdkU7QUFDSCxDQUFDO0FBVFksZUFBTyxXQVNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL3VzZXIvY29udHJvbGxlcnMvdXNlci50cz9hNGM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVN0YXR1c0Vycm9yIH0gZnJvbSAnQGZpcmViYXNlLWFwaS9zZXJ2aWNlcydcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCAqIGFzIGFkbWluIGZyb20gJ2ZpcmViYXNlLWFkbWluJ1xuaW1wb3J0ICogYXMgZnVuY3Rpb25zIGZyb20gJ2ZpcmViYXNlLWZ1bmN0aW9ucydcbmltcG9ydCB7IEZpcmViYXNlVXNlciwgV29yZFByZXNzVXNlciB9IGZyb20gJy4uL21vZGVscy91c2VyLm1vZGVsJ1xuaW1wb3J0IHtcbiAgaW1wb3J0VXNlcnNUb0ZpcmViYXNlLFxuICB0cmFuc2Zvcm1Xb3JkUHJlc3NVc2VycyxcbiAgdmFsaWRhdGVOZXdVc2VSZXF1ZXN0LFxuICB2YWxpZGF0ZVdvcmRQcmVzc1VzZXJSZXF1ZXN0LFxufSBmcm9tICcuLi9zZXJ2aWNlcydcblxuY29uc3QgSU1QT1JUX1VTRVJfU0laRSA9IDEwMDBcblxuY29uc3QgbGlzdEFsbFVzZXJzID0gYXN5bmMgKG5leHRQYWdlVG9rZW4/KTogUHJvbWlzZTxGaXJlYmFzZVVzZXJbXT4gPT4ge1xuICAvLyBMaXN0IGJhdGNoIG9mIHVzZXJzLCAxMDAwIGF0IGEgdGltZS5cbiAgcmV0dXJuIGFkbWluXG4gICAgLmF1dGgoKVxuICAgIC5saXN0VXNlcnMoMTAwMCwgbmV4dFBhZ2VUb2tlbilcbiAgICAudGhlbihhc3luYyAobGlzdFVzZXJzUmVzdWx0KSA9PiB7XG4gICAgICAvLyBMaXN0IG9mIHVzZXJzIHRvIHJldHVyblxuICAgICAgbGV0IHVzZXJzOiBGaXJlYmFzZVVzZXJbXSA9IFtdXG4gICAgICBsaXN0VXNlcnNSZXN1bHQudXNlcnMuZm9yRWFjaCgodXNlclJlY29yZCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VyID0gdXNlclJlY29yZC50b0pTT04oKSBhcyBGaXJlYmFzZVVzZXJcbiAgICAgICAgZGVsZXRlIHVzZXJbJ3Bhc3N3b3JkSGFzaCddXG4gICAgICAgIGRlbGV0ZSB1c2VyWydwYXNzd29yZFNhbHQnXVxuICAgICAgICB1c2Vycy5wdXNoKHVzZXIpXG4gICAgICB9KVxuXG4gICAgICBpZiAobGlzdFVzZXJzUmVzdWx0LnBhZ2VUb2tlbikge1xuICAgICAgICAvLyBMaXN0IG5leHQgYmF0Y2ggb2YgdXNlcnMuXG4gICAgICAgIGNvbnN0IG5leHRVc2VycyA9IGF3YWl0IGxpc3RBbGxVc2VycyhsaXN0VXNlcnNSZXN1bHQucGFnZVRva2VuKVxuICAgICAgICB1c2VycyA9IFsuLi51c2VycywgLi4ubmV4dFVzZXJzXVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXNlcnNcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBsaXN0aW5nIHVzZXJzOicsIGVycm9yKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGFkZFVzZXIgPSBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IHVzZXJEYXRhUmVxdWVzdDogRmlyZWJhc2VVc2VyID0gcmVxLmJvZHlcblxuICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0gdmFsaWRhdGVOZXdVc2VSZXF1ZXN0KHVzZXJEYXRhUmVxdWVzdClcbiAgaWYgKHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IgIT0gbnVsbCkge1xuICAgIHJlcy5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IubWVzc2FnZSkpXG4gIH1cblxuICBhZG1pblxuICAgIC5hdXRoKClcbiAgICAuY3JlYXRlVXNlcih2YWxpZGF0ZWRSZXF1ZXN0LnZhbHVlKVxuICAgIC50aGVuKGZ1bmN0aW9uICh1c2VyUmVjb3JkKSB7XG4gICAgICAvLyBTZWUgdGhlIFVzZXJSZWNvcmQgcmVmZXJlbmNlIGRvYyBmb3IgdGhlIGNvbnRlbnRzIG9mIHVzZXJSZWNvcmQuXG4gICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgbmV3IHVzZXI6JywgdXNlclJlY29yZC51aWQpXG4gICAgICByZXMuanNvbih7XG4gICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogYFN1Y2Nlc3NmdWxseSBjcmVhdGVkIG5ldyB1c2VyOiAke3VzZXJSZWNvcmQudWlkfWAsXG4gICAgICB9KVxuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGNyZWF0aW5nIG5ldyB1c2VyOicsIGVycm9yKVxuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBzdGF0dXM6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0VXNlciA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMudXNlcklkXG4gIGNvbnN0IHsgZmllbGRzID0gbnVsbCB9ID0gcmVxLnF1ZXJ5XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgYWRtaW4uYXV0aCgpLmdldFVzZXIodXNlcklkKVxuXG4gICAgLy8gUmV0dXJuIG9ubHkgcmVxdWVzdGVkIGZpZWxkXG4gICAgaWYgKGZpZWxkcykge1xuICAgICAgY29uc3QgcmV0dXJuVXNlciA9IHt9XG4gICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcy5zcGxpdCgnLCcpKSB7XG4gICAgICAgIGlmIChbJ2xhc3RTaWduSW5UaW1lJywgJ2NyZWF0aW9uVGltZSddLmluY2x1ZGVzKGZpZWxkKSkge1xuICAgICAgICAgIHJldHVyblVzZXJbZmllbGRdID0gdXNlci5tZXRhZGF0YVtmaWVsZF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm5Vc2VyW2ZpZWxkXSA9IHVzZXJbZmllbGRdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihyZXR1cm5Vc2VyKVxuICAgIH1cblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICBzdGF0dXM6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VycyA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgbGlzdEFsbFVzZXJzKClcbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXJzKVxufVxuXG5leHBvcnQgY29uc3QgaW1wb3J0VXNlcnMgPSBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcnM6IFdvcmRQcmVzc1VzZXJbXSA9IHJlcS5ib2R5XG5cbiAgICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0gdmFsaWRhdGVXb3JkUHJlc3NVc2VyUmVxdWVzdCh1c2VycylcbiAgICBpZiAodmFsaWRhdGVkUmVxdWVzdC5lcnJvciAhPSBudWxsKSB7XG4gICAgICBmdW5jdGlvbnMubG9nZ2VyLmVycm9yKHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IuZGV0YWlscywgeyBzdHJ1Y3R1cmVkRGF0YTogdHJ1ZSB9KVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IubWVzc2FnZSkpXG4gICAgfVxuXG4gICAgY29uc3QgdHJhbnNmb3JtZWRVc2VycyA9IHRyYW5zZm9ybVdvcmRQcmVzc1VzZXJzKHVzZXJzKVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFuc2Zvcm1lZFVzZXJzLmxlbmd0aDsgaSArPSBJTVBPUlRfVVNFUl9TSVpFKSB7XG4gICAgICBjb25zdCByZWFkeVVzZXJzID0gdHJhbnNmb3JtZWRVc2Vycy5zbGljZShpLCBpICsgSU1QT1JUX1VTRVJfU0laRSlcbiAgICAgIGZ1bmN0aW9ucy5sb2dnZXIuaW5mbyhgSW1wb3J0IHVzZXJzIGZyb20gJHtpfSB0byAke2kgKyByZWFkeVVzZXJzLmxlbmd0aH1gLCB7IHN0cnVjdHVyZWREYXRhOiB0cnVlIH0pXG4gICAgICBhd2FpdCBpbXBvcnRVc2Vyc1RvRmlyZWJhc2UocmVhZHlVc2VycylcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogYFN1Y2Nlc3NmdWxseSBpbXBvcnQgJHt0cmFuc2Zvcm1lZFVzZXJzLmxlbmd0aH0gdXNlcnMhYCxcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICBzdGF0dXM6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVVc2VyID0gYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICBjb25zdCB1c2VySWQgPSByZXEucGFyYW1zLnVzZXJJZFxuICB0cnkge1xuICAgIGF3YWl0IGFkbWluLmF1dGgoKS5kZWxldGVVc2VyKHVzZXJJZClcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDQpLmpzb24oe1xuICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogYFN1Y2Nlc3NmdWxseSBkZWxldGVkICR7dXNlcklkfWAsXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy51c2VySWRcbiAgY29uc3QgdXNlckRhdGFSZXF1ZXN0OiBGaXJlYmFzZVVzZXIgPSByZXEuYm9keVxuXG4gIGNvbnN0IHZhbGlkYXRlZFJlcXVlc3QgPSB2YWxpZGF0ZU5ld1VzZVJlcXVlc3QodXNlckRhdGFSZXF1ZXN0KVxuXG4gIGlmICh2YWxpZGF0ZWRSZXF1ZXN0LmVycm9yICE9IG51bGwpIHtcbiAgICBjb25zb2xlLmxvZygnVmFsaWRhdGlvbiBFcnJvcicsIEpTT04uc3RyaW5naWZ5KHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IubWVzc2FnZSkpXG4gICAgcmV0dXJuIHJlcy5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKHZhbGlkYXRlZFJlcXVlc3QuZXJyb3IubWVzc2FnZSkpXG4gIH1cblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBTdGFydCB1cGRhdGluZyB1c2VyczogJHt1c2VySWR9YClcbiAgICBsZXQgY3VzdG9tQ2xhaW1zRGF0YSA9IHVzZXJEYXRhUmVxdWVzdC5jdXN0b21DbGFpbXMgYXMgT2JqZWN0XG5cbiAgICBpZiAoY3VzdG9tQ2xhaW1zRGF0YSAhPT0gJycgJiYgY3VzdG9tQ2xhaW1zRGF0YSAhPSBudWxsKSB7XG4gICAgICBjb25zb2xlLmxvZyhgQ3VzdG9tIGNsYWltcyBleGlzdGAsIGN1c3RvbUNsYWltc0RhdGEpXG5cbiAgICAgIGlmICh0eXBlb2YgY3VzdG9tQ2xhaW1zRGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY3VzdG9tQ2xhaW1zRGF0YSA9IEpTT04ucGFyc2UoY3VzdG9tQ2xhaW1zRGF0YSlcbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgYWRtaW4uYXV0aCgpLnNldEN1c3RvbVVzZXJDbGFpbXModXNlcklkLCBjdXN0b21DbGFpbXNEYXRhKVxuXG4gICAgZGVsZXRlIHVzZXJEYXRhUmVxdWVzdC5jdXN0b21DbGFpbXNcbiAgICBpZiAodXNlckRhdGFSZXF1ZXN0LnBob25lTnVtYmVyID09PSAnJykge1xuICAgICAgdXNlckRhdGFSZXF1ZXN0LnBob25lTnVtYmVyID0gbnVsbFxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCd1c2VyRGF0YVJlcXVlc3QgYWZ0ZXIgY2xhaW1zJywgSlNPTi5zdHJpbmdpZnkodXNlckRhdGFSZXF1ZXN0KSlcblxuICAgIGF3YWl0IGFkbWluLmF1dGgoKS51cGRhdGVVc2VyKHVzZXJJZCwgdXNlckRhdGFSZXF1ZXN0KVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IGBTdWNjZXNzZnVsbHkgdXBkYXRlZCAke3VzZXJJZH1gLFxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3InLCBKU09OLnN0cmluZ2lmeShlcnJvcikpXG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc2lnbk91dCA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1aWQgPSByZXEuaGVhZGVyc1sndWlkJ10gYXMgc3RyaW5nXG4gICAgaWYgKHVpZCkgYXdhaXQgYWRtaW4uYXV0aCgpLnJldm9rZVJlZnJlc2hUb2tlbnModWlkKVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN0YXR1czogdHJ1ZSwgbWVzc2FnZTogYFN1Y2Nlc3NmdWxseSBsb2cgb3V0IGZvciAke3VpZH0hYCB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSlcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdGF0dXM6IGZhbHNlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///589\n")},849:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.listenerHttpUser = exports.userApp = void 0;\nconst cors = __webpack_require__(582);\nconst express = __webpack_require__(860);\nconst bodyParser = __webpack_require__(986);\nconst functions = __webpack_require__(744);\nconst config_1 = __webpack_require__(611);\nconst routes_1 = __webpack_require__(994);\nconst services_1 = __webpack_require__(745);\nconst router = express.Router();\nexports.userApp = express();\nexports.userApp.use(bodyParser.json());\nexports.userApp.use(cors({ origin: true }));\nexports.userApp.use('/', router);\nrouter.use(services_1.tokenValidation);\nrouter.use('/v1', (0, routes_1.checkApplicationV1)());\n// Handle all unknown requests\nexports.userApp.use('*', (req, res) => {\n    res.status(404).send();\n});\nconst runtimeOpts = {};\nexports.listenerHttpUser = functions\n    .region(...config_1.config.regions)\n    .runWith(runtimeOpts)\n    .https.onRequest(exports.userApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ5LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLHNDQUE0QjtBQUM1Qix5Q0FBa0M7QUFDbEMsNENBQXlDO0FBQ3pDLDJDQUErQztBQUUvQywwQ0FBNkM7QUFDN0MsMENBQTZDO0FBQzdDLDRDQUF3RDtBQUV4RCxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGVBQU8sR0FBRyxPQUFPLEVBQUU7QUFDaEMsZUFBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDOUIsZUFBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUNuQyxlQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUM7QUFFeEIsTUFBTSxDQUFDLEdBQUcsQ0FBQywwQkFBZSxDQUFDO0FBQzNCLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLCtCQUFrQixHQUFFLENBQUM7QUFFdkMsOEJBQThCO0FBQzlCLGVBQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBb0IsRUFBRSxHQUFxQixFQUFFLEVBQUU7SUFDL0QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUU7QUFDeEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQTZCLEVBQUU7QUFDbkMsd0JBQWdCLEdBQUcsU0FBUztLQUN0QyxNQUFNLENBQUMsR0FBRyxlQUFNLENBQUMsT0FBTyxDQUFDO0tBQ3pCLE9BQU8sQ0FBQyxXQUFXLENBQUM7S0FDcEIsS0FBSyxDQUFDLFNBQVMsQ0FBQyxlQUFPLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS91c2VyL2luZGV4LnRzP2ZjODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY29ycyBmcm9tICdjb3JzJ1xuaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0ICogYXMgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcidcbmltcG9ydCAqIGFzIGZ1bmN0aW9ucyBmcm9tICdmaXJlYmFzZS1mdW5jdGlvbnMnXG5cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ0BmaXJlYmFzZS1hcGkvY29uZmlnJ1xuaW1wb3J0IHsgY2hlY2tBcHBsaWNhdGlvblYxIH0gZnJvbSAnLi9yb3V0ZXMnXG5pbXBvcnQgeyB0b2tlblZhbGlkYXRpb24gfSBmcm9tICdAZmlyZWJhc2UtYXBpL3NlcnZpY2VzJ1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXG5leHBvcnQgY29uc3QgdXNlckFwcCA9IGV4cHJlc3MoKVxudXNlckFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpXG51c2VyQXBwLnVzZShjb3JzKHsgb3JpZ2luOiB0cnVlIH0pKVxudXNlckFwcC51c2UoJy8nLCByb3V0ZXIpXG5cbnJvdXRlci51c2UodG9rZW5WYWxpZGF0aW9uKVxucm91dGVyLnVzZSgnL3YxJywgY2hlY2tBcHBsaWNhdGlvblYxKCkpXG5cbi8vIEhhbmRsZSBhbGwgdW5rbm93biByZXF1ZXN0c1xudXNlckFwcC51c2UoJyonLCAocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSkgPT4ge1xuICByZXMuc3RhdHVzKDQwNCkuc2VuZCgpXG59KVxuXG5jb25zdCBydW50aW1lT3B0czogZnVuY3Rpb25zLlJ1bnRpbWVPcHRpb25zID0ge31cbmV4cG9ydCBjb25zdCBsaXN0ZW5lckh0dHBVc2VyID0gZnVuY3Rpb25zXG4gIC5yZWdpb24oLi4uY29uZmlnLnJlZ2lvbnMpXG4gIC5ydW5XaXRoKHJ1bnRpbWVPcHRzKVxuICAuaHR0cHMub25SZXF1ZXN0KHVzZXJBcHApXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///849\n")},858:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(29), exports);\n__exportStar(__webpack_require__(295), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLCtDQUE0QjtBQUM1QixnREFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS91c2VyL21vZGVscy9pbmRleC50cz8yYTg0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vdXNlci5tb2RlbCdcbmV4cG9ydCAqIGZyb20gJy4vdXNlci5zY2hlbWEnXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///858\n')},29:(Q,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},295:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WordPressUserSchema = exports.FirebaseUserSchema = void 0;\nconst joi = __webpack_require__(414);\nexports.FirebaseUserSchema = joi\n    .object({\n    uid: joi.string().optional(),\n    displayName: joi.string().required(),\n    email: joi.string().email().required(),\n    password: joi.string(),\n    photoURL: joi.string().optional(),\n    // customClaims: joi.object().optional()\n})\n    .unknown();\nexports.WordPressUserSchema = joi.array().items(joi\n    .object({\n    ID: joi.string().required(),\n    user_login: joi.string().required(),\n    user_pass: joi.string().required(),\n    user_nicename: joi.string().required().allow(''),\n    user_email: joi\n        .string()\n        .pattern(/^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/)\n        .required()\n        .allow(''),\n    user_url: joi.string().required().allow(''),\n    user_registered: joi.string().required().allow(''),\n    user_activation_key: joi.string().required().allow(''),\n    user_status: joi.string().required().allow(''),\n    display_name: joi.string().required().allow(''),\n})\n    .unknown());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk1LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFnQztBQUVuQiwwQkFBa0IsR0FBRyxHQUFHO0tBQ2xDLE1BQU0sQ0FBQztJQUNOLEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQzVCLFdBQVcsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ3BDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ3RDLFFBQVEsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO0lBQ3RCLFFBQVEsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ2pDLHdDQUF3QztDQUN6QyxDQUFDO0tBQ0QsT0FBTyxFQUFFO0FBRUMsMkJBQW1CLEdBQUcsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FDbEQsR0FBRztLQUNBLE1BQU0sQ0FBQztJQUNOLEVBQUUsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQzNCLFVBQVUsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ25DLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ2xDLGFBQWEsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztJQUNoRCxVQUFVLEVBQUUsR0FBRztTQUNaLE1BQU0sRUFBRTtTQUNSLE9BQU8sQ0FBQyxzRUFBc0UsQ0FBQztTQUMvRSxRQUFRLEVBQUU7U0FDVixLQUFLLENBQUMsRUFBRSxDQUFDO0lBQ1osUUFBUSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO0lBQzNDLGVBQWUsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztJQUNsRCxtQkFBbUIsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztJQUN0RCxXQUFXLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7SUFDOUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO0NBQ2hELENBQUM7S0FDRCxPQUFPLEVBQUUsQ0FDYiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvYXBpL3VzZXIvbW9kZWxzL3VzZXIuc2NoZW1hLnRzPzA1YTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgam9pIGZyb20gJ0BoYXBpL2pvaSdcblxuZXhwb3J0IGNvbnN0IEZpcmViYXNlVXNlclNjaGVtYSA9IGpvaVxuICAub2JqZWN0KHtcbiAgICB1aWQ6IGpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGRpc3BsYXlOYW1lOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICBlbWFpbDogam9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICBwYXNzd29yZDogam9pLnN0cmluZygpLFxuICAgIHBob3RvVVJMOiBqb2kuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAvLyBjdXN0b21DbGFpbXM6IGpvaS5vYmplY3QoKS5vcHRpb25hbCgpXG4gIH0pXG4gIC51bmtub3duKClcblxuZXhwb3J0IGNvbnN0IFdvcmRQcmVzc1VzZXJTY2hlbWEgPSBqb2kuYXJyYXkoKS5pdGVtcyhcbiAgam9pXG4gICAgLm9iamVjdCh7XG4gICAgICBJRDogam9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICB1c2VyX2xvZ2luOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHVzZXJfcGFzczogam9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICB1c2VyX25pY2VuYW1lOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5hbGxvdygnJyksXG4gICAgICB1c2VyX2VtYWlsOiBqb2lcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5wYXR0ZXJuKC9eW2EtekEtWjAtOS4hIyQlJuKAmSorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05LV0rKD86XFwuW2EtekEtWjAtOS1dKykqJC8pXG4gICAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAgIC5hbGxvdygnJyksXG4gICAgICB1c2VyX3VybDogam9pLnN0cmluZygpLnJlcXVpcmVkKCkuYWxsb3coJycpLFxuICAgICAgdXNlcl9yZWdpc3RlcmVkOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5hbGxvdygnJyksXG4gICAgICB1c2VyX2FjdGl2YXRpb25fa2V5OiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5hbGxvdygnJyksXG4gICAgICB1c2VyX3N0YXR1czogam9pLnN0cmluZygpLnJlcXVpcmVkKCkuYWxsb3coJycpLFxuICAgICAgZGlzcGxheV9uYW1lOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5hbGxvdygnJyksXG4gICAgfSlcbiAgICAudW5rbm93bigpXG4pXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///295\n")},994:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.checkApplicationV1 = void 0;\nconst express_1 = __webpack_require__(860);\nconst services_1 = __webpack_require__(745);\nconst controllers_1 = __webpack_require__(767);\nconst checkApplicationV1 = () => {\n    const router = (0, express_1.Router)();\n    router.route('/users').get((0, services_1.handleErrorAsync)(controllers_1.getUsers));\n    router.route('/users/:userId').get((0, services_1.handleErrorAsync)(controllers_1.getUser));\n    router.route('/users').post((0, services_1.handleErrorAsync)(controllers_1.addUser));\n    router.route('/users/:userId').delete((0, services_1.handleErrorAsync)(controllers_1.deleteUser));\n    router.route('/users/:userId').patch((0, services_1.handleErrorAsync)(controllers_1.updateUser));\n    router.route('/users/import').post((0, services_1.handleErrorAsync)(controllers_1.importUsers));\n    router.route('/users/sign-out').post((0, services_1.handleErrorAsync)(controllers_1.signOut));\n    return router;\n};\nexports.checkApplicationV1 = checkApplicationV1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTk0LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUFnQztBQUNoQyw0Q0FBeUQ7QUFDekQsK0NBUTJDO0FBRXBDLE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxFQUFFO0lBQ3JDLE1BQU0sTUFBTSxHQUFHLG9CQUFNLEdBQUU7SUFDdkIsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsK0JBQWdCLEVBQUMsc0JBQVEsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxHQUFHLENBQUMsK0JBQWdCLEVBQUMscUJBQU8sQ0FBQyxDQUFDO0lBQzdELE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLCtCQUFnQixFQUFDLHFCQUFPLENBQUMsQ0FBQztJQUV0RCxNQUFNLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsTUFBTSxDQUFDLCtCQUFnQixFQUFDLHdCQUFVLENBQUMsQ0FBQztJQUNuRSxNQUFNLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSyxDQUFDLCtCQUFnQixFQUFDLHdCQUFVLENBQUMsQ0FBQztJQUVsRSxNQUFNLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksQ0FBQywrQkFBZ0IsRUFBQyx5QkFBVyxDQUFDLENBQUM7SUFDakUsTUFBTSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FBQywrQkFBZ0IsRUFBQyxxQkFBTyxDQUFDLENBQUM7SUFDL0QsT0FBTyxNQUFNO0FBQ2YsQ0FBQztBQVpZLDBCQUFrQixzQkFZOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS91c2VyL3JvdXRlcy9pbmRleC50cz8xZDJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgeyBoYW5kbGVFcnJvckFzeW5jIH0gZnJvbSAnQGZpcmViYXNlLWFwaS9zZXJ2aWNlcydcbmltcG9ydCB7XG4gIGdldFVzZXIsXG4gIGdldFVzZXJzLFxuICBkZWxldGVVc2VyLFxuICBhZGRVc2VyLFxuICB1cGRhdGVVc2VyLFxuICBzaWduT3V0LFxuICBpbXBvcnRVc2Vycyxcbn0gZnJvbSAnQGZpcmViYXNlLWFwaS9hcGkvdXNlci9jb250cm9sbGVycydcblxuZXhwb3J0IGNvbnN0IGNoZWNrQXBwbGljYXRpb25WMSA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gUm91dGVyKClcbiAgcm91dGVyLnJvdXRlKCcvdXNlcnMnKS5nZXQoaGFuZGxlRXJyb3JBc3luYyhnZXRVc2VycykpXG4gIHJvdXRlci5yb3V0ZSgnL3VzZXJzLzp1c2VySWQnKS5nZXQoaGFuZGxlRXJyb3JBc3luYyhnZXRVc2VyKSlcbiAgcm91dGVyLnJvdXRlKCcvdXNlcnMnKS5wb3N0KGhhbmRsZUVycm9yQXN5bmMoYWRkVXNlcikpXG5cbiAgcm91dGVyLnJvdXRlKCcvdXNlcnMvOnVzZXJJZCcpLmRlbGV0ZShoYW5kbGVFcnJvckFzeW5jKGRlbGV0ZVVzZXIpKVxuICByb3V0ZXIucm91dGUoJy91c2Vycy86dXNlcklkJykucGF0Y2goaGFuZGxlRXJyb3JBc3luYyh1cGRhdGVVc2VyKSlcblxuICByb3V0ZXIucm91dGUoJy91c2Vycy9pbXBvcnQnKS5wb3N0KGhhbmRsZUVycm9yQXN5bmMoaW1wb3J0VXNlcnMpKVxuICByb3V0ZXIucm91dGUoJy91c2Vycy9zaWduLW91dCcpLnBvc3QoaGFuZGxlRXJyb3JBc3luYyhzaWduT3V0KSlcbiAgcmV0dXJuIHJvdXRlclxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///994\n")},683:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.randomString = exports.validateWordPressUserRequest = exports.validateNewUseRequest = void 0;\nconst models_1 = __webpack_require__(858);\nconst validateNewUseRequest = (docRequest) => {\n    return models_1.FirebaseUserSchema.validate(docRequest);\n};\nexports.validateNewUseRequest = validateNewUseRequest;\nconst validateWordPressUserRequest = (docRequest) => {\n    return models_1.WordPressUserSchema.validate(docRequest);\n};\nexports.validateWordPressUserRequest = validateWordPressUserRequest;\nconst randomString = (length) => {\n    const chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    let result = '';\n    for (let i = length; i > 0; --i)\n        result += chars[Math.round(Math.random() * (chars.length - 1))];\n    return result;\n};\nexports.randomString = randomString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjgzLmpzIiwibWFwcGluZ3MiOiI7OztBQUNBLDBDQUFnRztBQUV6RixNQUFNLHFCQUFxQixHQUFHLENBQUMsVUFBd0IsRUFBd0IsRUFBRTtJQUN0RixPQUFPLDJCQUFrQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7QUFDaEQsQ0FBQztBQUZZLDZCQUFxQix5QkFFakM7QUFFTSxNQUFNLDRCQUE0QixHQUFHLENBQUMsVUFBMkIsRUFBd0IsRUFBRTtJQUNoRyxPQUFPLDRCQUFtQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7QUFDakQsQ0FBQztBQUZZLG9DQUE0QixnQ0FFeEM7QUFFTSxNQUFNLFlBQVksR0FBRyxDQUFDLE1BQWMsRUFBVSxFQUFFO0lBQ3JELE1BQU0sS0FBSyxHQUFHLGdFQUFnRTtJQUM5RSxJQUFJLE1BQU0sR0FBRyxFQUFFO0lBQ2YsS0FBSyxJQUFJLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUM7UUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hHLE9BQU8sTUFBTTtBQUNmLENBQUM7QUFMWSxvQkFBWSxnQkFLeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS91c2VyL3NlcnZpY2VzL2hlbHBlci50cz9lN2VmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGpvaSBmcm9tICdAaGFwaS9qb2knXG5pbXBvcnQgeyBGaXJlYmFzZVVzZXIsIEZpcmViYXNlVXNlclNjaGVtYSwgV29yZFByZXNzVXNlciwgV29yZFByZXNzVXNlclNjaGVtYSB9IGZyb20gJy4uL21vZGVscydcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlTmV3VXNlUmVxdWVzdCA9IChkb2NSZXF1ZXN0OiBGaXJlYmFzZVVzZXIpOiBqb2kuVmFsaWRhdGlvblJlc3VsdCA9PiB7XG4gIHJldHVybiBGaXJlYmFzZVVzZXJTY2hlbWEudmFsaWRhdGUoZG9jUmVxdWVzdClcbn1cblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlV29yZFByZXNzVXNlclJlcXVlc3QgPSAoZG9jUmVxdWVzdDogV29yZFByZXNzVXNlcltdKTogam9pLlZhbGlkYXRpb25SZXN1bHQgPT4ge1xuICByZXR1cm4gV29yZFByZXNzVXNlclNjaGVtYS52YWxpZGF0ZShkb2NSZXF1ZXN0KVxufVxuXG5leHBvcnQgY29uc3QgcmFuZG9tU3RyaW5nID0gKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgY29uc3QgY2hhcnMgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonXG4gIGxldCByZXN1bHQgPSAnJ1xuICBmb3IgKGxldCBpID0gbGVuZ3RoOyBpID4gMDsgLS1pKSByZXN1bHQgKz0gY2hhcnNbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGNoYXJzLmxlbmd0aCAtIDEpKV1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///683\n")},534:function(__unused_webpack_module,exports,__webpack_require__){eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.importUsersToFirebase = exports.transformWordPressUsers = exports.base64Translate = void 0;\nconst admin = __webpack_require__(509);\nconst phpassBase64 = './0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\nconst base64Translate = (input) => {\n    const res = [0];\n    let currentBit = 0, index = 0;\n    input.split('').forEach((l) => {\n        const i = phpassBase64.indexOf(l);\n        res[index] += (i << currentBit) & 0xff;\n        currentBit += 6;\n        if (currentBit >= 8) {\n            currentBit -= 8;\n            index++;\n            res.push(i >> (6 - currentBit));\n        }\n    });\n    if (res[res.length - 1] === 0)\n        res.pop();\n    return Buffer.from(res);\n};\nexports.base64Translate = base64Translate;\nconst transformWordPressUsers = (users) => {\n    const firebaseUsers = [];\n    for (const user of users) {\n        const salt = user.user_pass.substr(4, 8);\n        const hash = (0, exports.base64Translate)(user.user_pass.substr(12));\n        // Skipped if email is empty\n        if (user.user_email !== '') {\n            firebaseUsers.push({\n                // if uid is different, it will create a new duplicate user\n                uid: user.user_login,\n                // uid: user.user_login,\n                email: user.user_email,\n                passwordHash: Buffer.from(hash.toString('hex')),\n                passwordSalt: Buffer.from(salt),\n                displayName: user.display_name || '',\n                // TODO: not doing this now because it will override existing custom claims\n                // customClaims: user.caps,\n            });\n        }\n    }\n    return firebaseUsers;\n};\nexports.transformWordPressUsers = transformWordPressUsers;\nconst importUsersToFirebase = (users) => __awaiter(void 0, void 0, void 0, function* () {\n    return admin\n        .auth()\n        .importUsers(users, { hash: { algorithm: 'MD5', rounds: 8192 } })\n        .then((userImportResult) => {\n        userImportResult.errors.forEach((indexedError) => {\n            // The corresponding user that failed to upload.\n            console.log('Error ' + indexedError.index, ' failed to import: ', indexedError.error);\n        });\n    })\n        .catch((error) => {\n        console.error(error);\n    });\n});\nexports.importUsersToFirebase = importUsersToFirebase;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNKLENBQUMsQ0FBQztTQUNELEtBQUssQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1FBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQyxDQUFDO0FBQ04sQ0FBQztBQWJZLDZCQUFxQix5QkFhakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS91c2VyL3NlcnZpY2VzL2ltcG9ydC50cz80NTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFkbWluIGZyb20gJ2ZpcmViYXNlLWFkbWluJ1xuaW1wb3J0IHsgV29yZFByZXNzVXNlciB9IGZyb20gJy4uL21vZGVscydcblxuY29uc3QgcGhwYXNzQmFzZTY0ID0gJy4vMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonXG5cbmV4cG9ydCBjb25zdCBiYXNlNjRUcmFuc2xhdGUgPSAoaW5wdXQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZXMgPSBbMF1cbiAgbGV0IGN1cnJlbnRCaXQgPSAwLFxuICAgIGluZGV4ID0gMFxuICBpbnB1dC5zcGxpdCgnJykuZm9yRWFjaCgobCkgPT4ge1xuICAgIGNvbnN0IGkgPSBwaHBhc3NCYXNlNjQuaW5kZXhPZihsKVxuICAgIHJlc1tpbmRleF0gKz0gKGkgPDwgY3VycmVudEJpdCkgJiAweGZmXG4gICAgY3VycmVudEJpdCArPSA2XG4gICAgaWYgKGN1cnJlbnRCaXQgPj0gOCkge1xuICAgICAgY3VycmVudEJpdCAtPSA4XG4gICAgICBpbmRleCsrXG4gICAgICByZXMucHVzaChpID4+ICg2IC0gY3VycmVudEJpdCkpXG4gICAgfVxuICB9KVxuICBpZiAocmVzW3Jlcy5sZW5ndGggLSAxXSA9PT0gMCkgcmVzLnBvcCgpXG4gIHJldHVybiBCdWZmZXIuZnJvbShyZXMpXG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1Xb3JkUHJlc3NVc2VycyA9ICh1c2VyczogV29yZFByZXNzVXNlcltdKTogYWRtaW4uYXV0aC5Vc2VySW1wb3J0UmVjb3JkW10gPT4ge1xuICBjb25zdCBmaXJlYmFzZVVzZXJzID0gW10gYXMgYWRtaW4uYXV0aC5Vc2VySW1wb3J0UmVjb3JkW11cbiAgZm9yIChjb25zdCB1c2VyIG9mIHVzZXJzKSB7XG4gICAgY29uc3Qgc2FsdCA9IHVzZXIudXNlcl9wYXNzLnN1YnN0cig0LCA4KVxuICAgIGNvbnN0IGhhc2ggPSBiYXNlNjRUcmFuc2xhdGUodXNlci51c2VyX3Bhc3Muc3Vic3RyKDEyKSlcblxuICAgIC8vIFNraXBwZWQgaWYgZW1haWwgaXMgZW1wdHlcbiAgICBpZiAodXNlci51c2VyX2VtYWlsICE9PSAnJykge1xuICAgICAgZmlyZWJhc2VVc2Vycy5wdXNoKHtcbiAgICAgICAgLy8gaWYgdWlkIGlzIGRpZmZlcmVudCwgaXQgd2lsbCBjcmVhdGUgYSBuZXcgZHVwbGljYXRlIHVzZXJcbiAgICAgICAgdWlkOiB1c2VyLnVzZXJfbG9naW4sIC8vIHJhbmRvbVN0cmluZygyOCksXG4gICAgICAgIC8vIHVpZDogdXNlci51c2VyX2xvZ2luLFxuICAgICAgICBlbWFpbDogdXNlci51c2VyX2VtYWlsLFxuICAgICAgICBwYXNzd29yZEhhc2g6IEJ1ZmZlci5mcm9tKGhhc2gudG9TdHJpbmcoJ2hleCcpKSxcbiAgICAgICAgcGFzc3dvcmRTYWx0OiBCdWZmZXIuZnJvbShzYWx0KSxcbiAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheV9uYW1lIHx8ICcnLFxuICAgICAgICAvLyBUT0RPOiBub3QgZG9pbmcgdGhpcyBub3cgYmVjYXVzZSBpdCB3aWxsIG92ZXJyaWRlIGV4aXN0aW5nIGN1c3RvbSBjbGFpbXNcbiAgICAgICAgLy8gY3VzdG9tQ2xhaW1zOiB1c2VyLmNhcHMsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmlyZWJhc2VVc2Vyc1xufVxuXG5leHBvcnQgY29uc3QgaW1wb3J0VXNlcnNUb0ZpcmViYXNlID0gYXN5bmMgKHVzZXJzOiBhZG1pbi5hdXRoLlVzZXJJbXBvcnRSZWNvcmRbXSkgPT4ge1xuICByZXR1cm4gYWRtaW5cbiAgICAuYXV0aCgpXG4gICAgLmltcG9ydFVzZXJzKHVzZXJzLCB7IGhhc2g6IHsgYWxnb3JpdGhtOiAnTUQ1Jywgcm91bmRzOiA4MTkyIH0gfSlcbiAgICAudGhlbigodXNlckltcG9ydFJlc3VsdCkgPT4ge1xuICAgICAgdXNlckltcG9ydFJlc3VsdC5lcnJvcnMuZm9yRWFjaCgoaW5kZXhlZEVycm9yKSA9PiB7XG4gICAgICAgIC8vIFRoZSBjb3JyZXNwb25kaW5nIHVzZXIgdGhhdCBmYWlsZWQgdG8gdXBsb2FkLlxuICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgJyArIGluZGV4ZWRFcnJvci5pbmRleCwgJyBmYWlsZWQgdG8gaW1wb3J0OiAnLCBpbmRleGVkRXJyb3IuZXJyb3IpXG4gICAgICB9KVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcbiAgICB9KVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///534\n")},590:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(683), exports);\n__exportStar(__webpack_require__(534), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUF3QjtBQUN4QixnREFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL2FwaS91c2VyL3NlcnZpY2VzL2luZGV4LnRzP2IyODgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9oZWxwZXInXG5leHBvcnQgKiBmcm9tICcuL2ltcG9ydCdcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///590\n')},611:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.config = void 0;\nconst functions = __webpack_require__(744);\nconst models_1 = __webpack_require__(357);\nconst firebase_environment_schema_1 = __webpack_require__(409);\nconst firebaseEnv = functions.config();\nconst validated = firebase_environment_schema_1.FirebaseEnvironmentSchema.validate(firebaseEnv);\nif (validated.error != null) {\n    throw new Error(`Firebase environment invalid. ${validated.error.message}`);\n}\nconst publicCollections = firebaseEnv.public && firebaseEnv.public.collections ? firebaseEnv.public.collections : '';\nexports.config = {\n    token: {\n        frontend: firebaseEnv.api.frontend_token,\n        dashboard: firebaseEnv.api.dashboard_token,\n    },\n    frontendMethods: ['createDoc', 'sign-out'],\n    public: { collections: publicCollections },\n    regions: !!firebaseEnv.regions ? firebaseEnv.regions : [models_1.REGIONS.US_CENTRAL1],\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjExLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUErQztBQUMvQywwQ0FBa0Y7QUFDbEYsK0RBQTRGO0FBRTVGLE1BQU0sV0FBVyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQXlCO0FBRTdELE1BQU0sU0FBUyxHQUFHLHVEQUF5QixDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUM7QUFFakUsSUFBSSxTQUFTLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtJQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLGlDQUFpQyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO0NBQzVFO0FBRUQsTUFBTSxpQkFBaUIsR0FBRyxXQUFXLENBQUMsTUFBTSxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUV2RyxjQUFNLEdBQWtCO0lBQ25DLEtBQUssRUFBRTtRQUNMLFFBQVEsRUFBRSxXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWM7UUFDeEMsU0FBUyxFQUFFLFdBQVcsQ0FBQyxHQUFHLENBQUMsZUFBZTtLQUMzQztJQUNELGVBQWUsRUFBRSxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUM7SUFDMUMsTUFBTSxFQUFFLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixFQUFFO0lBQzFDLE9BQU8sRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBTyxDQUFDLFdBQVcsQ0FBQztDQUM3RSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvY29uZmlnL2luZGV4LnRzPzJkZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZnVuY3Rpb25zIGZyb20gJ2ZpcmViYXNlLWZ1bmN0aW9ucydcbmltcG9ydCB7IEZpcmViYXNlRW52aXJvbm1lbnQsIENvbmZpZ3VyYXRpb24sIFJFR0lPTlMgfSBmcm9tICdAZmlyZWJhc2UtYXBpL21vZGVscydcbmltcG9ydCB7IEZpcmViYXNlRW52aXJvbm1lbnRTY2hlbWEgfSBmcm9tICdAZmlyZWJhc2UtYXBpL21vZGVscy9maXJlYmFzZS1lbnZpcm9ubWVudC5zY2hlbWEnXG5cbmNvbnN0IGZpcmViYXNlRW52ID0gZnVuY3Rpb25zLmNvbmZpZygpIGFzIEZpcmViYXNlRW52aXJvbm1lbnRcblxuY29uc3QgdmFsaWRhdGVkID0gRmlyZWJhc2VFbnZpcm9ubWVudFNjaGVtYS52YWxpZGF0ZShmaXJlYmFzZUVudilcblxuaWYgKHZhbGlkYXRlZC5lcnJvciAhPSBudWxsKSB7XG4gIHRocm93IG5ldyBFcnJvcihgRmlyZWJhc2UgZW52aXJvbm1lbnQgaW52YWxpZC4gJHt2YWxpZGF0ZWQuZXJyb3IubWVzc2FnZX1gKVxufVxuXG5jb25zdCBwdWJsaWNDb2xsZWN0aW9ucyA9IGZpcmViYXNlRW52LnB1YmxpYyAmJiBmaXJlYmFzZUVudi5wdWJsaWMuY29sbGVjdGlvbnMgPyBmaXJlYmFzZUVudi5wdWJsaWMuY29sbGVjdGlvbnMgOiAnJ1xuXG5leHBvcnQgY29uc3QgY29uZmlnOiBDb25maWd1cmF0aW9uID0ge1xuICB0b2tlbjoge1xuICAgIGZyb250ZW5kOiBmaXJlYmFzZUVudi5hcGkuZnJvbnRlbmRfdG9rZW4sXG4gICAgZGFzaGJvYXJkOiBmaXJlYmFzZUVudi5hcGkuZGFzaGJvYXJkX3Rva2VuLFxuICB9LFxuICBmcm9udGVuZE1ldGhvZHM6IFsnY3JlYXRlRG9jJywgJ3NpZ24tb3V0J10sXG4gIHB1YmxpYzogeyBjb2xsZWN0aW9uczogcHVibGljQ29sbGVjdGlvbnMgfSxcbiAgcmVnaW9uczogISFmaXJlYmFzZUVudi5yZWdpb25zID8gZmlyZWJhc2VFbnYucmVnaW9ucyA6IFtSRUdJT05TLlVTX0NFTlRSQUwxXSxcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///611\n")},341:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.api = void 0;\nconst User = __webpack_require__(849);\nconst Database = __webpack_require__(751);\nconst Message = __webpack_require__(623);\nexports.api = {\n    user: User.listenerHttpUser,\n    database: Database.listenerHttpDb,\n    message: Message.listenerHttpMg,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQxLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLHNDQUFrQztBQUNsQywwQ0FBMEM7QUFDMUMseUNBQXdDO0FBRTNCLFdBQUcsR0FBRztJQUNqQixJQUFJLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjtJQUMzQixRQUFRLEVBQUUsUUFBUSxDQUFDLGNBQWM7SUFDakMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxjQUFjO0NBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWJhc2Utd29yZHByZXNzLWZ1bmN0aW9ucy8uL3NyYy9pbmRleC50cz9mZmI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFVzZXIgZnJvbSAnLi9hcGkvdXNlcidcbmltcG9ydCAqIGFzIERhdGFiYXNlIGZyb20gJy4vYXBpL2RhdGFiYXNlJ1xuaW1wb3J0ICogYXMgTWVzc2FnZSBmcm9tICcuL2FwaS9tZXNzYWdlJ1xuXG5leHBvcnQgY29uc3QgYXBpID0ge1xuICB1c2VyOiBVc2VyLmxpc3RlbmVySHR0cFVzZXIsXG4gIGRhdGFiYXNlOiBEYXRhYmFzZS5saXN0ZW5lckh0dHBEYixcbiAgbWVzc2FnZTogTWVzc2FnZS5saXN0ZW5lckh0dHBNZyxcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///341\n')},259:(Q,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},823:(Q,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},409:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.FirebaseEnvironmentSchema = void 0;\nconst _1 = __webpack_require__(357);\nconst joi = __webpack_require__(414);\nexports.FirebaseEnvironmentSchema = joi\n    .object({\n    api: joi\n        .object({\n        dashboard_token: joi.string().required(),\n        frontend_token: joi.string().required(),\n    })\n        .required(),\n    public: joi.object({\n        collections: joi.string().optional(),\n    }),\n    regions: joi.array().items(joi.string()).allow(_1.REGIONS).optional(),\n})\n    .unknown();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA5LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLG9DQUEyQjtBQUMzQixxQ0FBZ0M7QUFFbkIsaUNBQXlCLEdBQUcsR0FBRztLQUN6QyxNQUFNLENBQUM7SUFDTixHQUFHLEVBQUUsR0FBRztTQUNMLE1BQU0sQ0FBQztRQUNOLGVBQWUsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQ3hDLGNBQWMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0tBQ3hDLENBQUM7U0FDRCxRQUFRLEVBQUU7SUFDYixNQUFNLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUNqQixXQUFXLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtLQUNyQyxDQUFDO0lBQ0YsT0FBTyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRTtDQUNuRSxDQUFDO0tBQ0QsT0FBTyxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWJhc2Utd29yZHByZXNzLWZ1bmN0aW9ucy8uL3NyYy9tb2RlbHMvZmlyZWJhc2UtZW52aXJvbm1lbnQuc2NoZW1hLnRzP2QzOGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkVHSU9OUyB9IGZyb20gJy4nXG5pbXBvcnQgKiBhcyBqb2kgZnJvbSAnQGhhcGkvam9pJ1xuXG5leHBvcnQgY29uc3QgRmlyZWJhc2VFbnZpcm9ubWVudFNjaGVtYSA9IGpvaVxuICAub2JqZWN0KHtcbiAgICBhcGk6IGpvaVxuICAgICAgLm9iamVjdCh7XG4gICAgICAgIGRhc2hib2FyZF90b2tlbjogam9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGZyb250ZW5kX3Rva2VuOiBqb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIH0pXG4gICAgICAucmVxdWlyZWQoKSxcbiAgICBwdWJsaWM6IGpvaS5vYmplY3Qoe1xuICAgICAgY29sbGVjdGlvbnM6IGpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIH0pLFxuICAgIHJlZ2lvbnM6IGpvaS5hcnJheSgpLml0ZW1zKGpvaS5zdHJpbmcoKSkuYWxsb3coUkVHSU9OUykub3B0aW9uYWwoKSxcbiAgfSlcbiAgLnVua25vd24oKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///409\n')},357:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.REGIONS = void 0;\n__exportStar(__webpack_require__(259), exports);\n__exportStar(__webpack_require__(823), exports);\nvar REGIONS;\n(function (REGIONS) {\n    REGIONS["US_CENTRAL1"] = "us-central1";\n    REGIONS["US_EAST1"] = "us-east1";\n    REGIONS["US_EAST4"] = "us-east4";\n    REGIONS["EUROPE_WEST1"] = "europe-west1";\n    REGIONS["EUROPE_WEST2"] = "europe-west2";\n    REGIONS["ASIA_EAST2"] = "asia-east2";\n    REGIONS["ASIA_NORTHEAST1"] = "asia-northeast1";\n})(REGIONS = exports.REGIONS || (exports.REGIONS = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBcUM7QUFDckMsZ0RBQTRDO0FBRTVDLElBQVksT0FRWDtBQVJELFdBQVksT0FBTztJQUNqQixzQ0FBMkI7SUFDM0IsZ0NBQXFCO0lBQ3JCLGdDQUFxQjtJQUNyQix3Q0FBNkI7SUFDN0Isd0NBQTZCO0lBQzdCLG9DQUF5QjtJQUN6Qiw4Q0FBbUM7QUFDckMsQ0FBQyxFQVJXLE9BQU8sR0FBUCxlQUFPLEtBQVAsZUFBTyxRQVFsQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpcmViYXNlLXdvcmRwcmVzcy1mdW5jdGlvbnMvLi9zcmMvbW9kZWxzL2luZGV4LnRzPzBkNTkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9jb25maWd1cmF0aW9uLm1vZGVsJ1xuZXhwb3J0ICogZnJvbSAnLi9maXJlYmFzZS1lbnZpcm9ubWVudC5tb2RlbCdcblxuZXhwb3J0IGVudW0gUkVHSU9OUyB7XG4gIFVTX0NFTlRSQUwxID0gJ3VzLWNlbnRyYWwxJyxcbiAgVVNfRUFTVDEgPSAndXMtZWFzdDEnLFxuICBVU19FQVNUNCA9ICd1cy1lYXN0NCcsXG4gIEVVUk9QRV9XRVNUMSA9ICdldXJvcGUtd2VzdDEnLFxuICBFVVJPUEVfV0VTVDIgPSAnZXVyb3BlLXdlc3QyJyxcbiAgQVNJQV9FQVNUMiA9ICdhc2lhLWVhc3QyJyxcbiAgQVNJQV9OT1JUSEVBU1QxID0gJ2FzaWEtbm9ydGhlYXN0MScsXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///357\n')},297:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getRealtimeDb = exports.realtime = exports.firestore = exports.adminApp = void 0;\n// import * as functions from 'firebase-functions'\nconst admin = __webpack_require__(509);\n/**\n * Ensure that Firebase Admin is only initialized once\n */\n// export const adminApp = admin.initializeApp(functions.config().firebase)\nconst FIREBASE_CONFIG = JSON.parse(process.env.FIREBASE_CONFIG);\nif (FIREBASE_CONFIG['databaseURL'] == null) {\n    // console.log(`--- databaseURL is missing, generate a new one ----`)\n    FIREBASE_CONFIG['databaseURL'] = `https://${FIREBASE_CONFIG['projectId']}.firebaseio.com`;\n}\n// console.log({\n//   databaseURL: FIREBASE_CONFIG['databaseURL'],\n// })\nexports.adminApp = admin.initializeApp(FIREBASE_CONFIG);\nexports.firestore = exports.adminApp.firestore();\nexports.realtime = exports.adminApp.database();\n// In case customer has more than one Realtime Database\n// It will initialize a new app with new realtime database\nlet realtime2;\nlet adminApp2;\nconst getRealtimeDb = (databaseURL = '') => {\n    if (databaseURL == null || databaseURL === '') {\n        return exports.realtime;\n    }\n    if (realtime2 == null && adminApp2 == null) {\n        adminApp2 = admin.initializeApp({ databaseURL }, 'secondary');\n        realtime2 = adminApp2.database(databaseURL);\n    }\n    return realtime2;\n};\nexports.getRealtimeDb = getRealtimeDb;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk3LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLGtEQUFrRDtBQUNsRCx1Q0FBdUM7QUFFdkM7O0dBRUc7QUFDSCwyRUFBMkU7QUFFM0UsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQXlCLENBQUM7QUFFekUsSUFBSSxlQUFlLENBQUMsYUFBYSxDQUFDLElBQUksSUFBSSxFQUFFO0lBQzFDLHFFQUFxRTtJQUNyRSxlQUFlLENBQUMsYUFBYSxDQUFDLEdBQUcsV0FBVyxlQUFlLENBQUMsV0FBVyxDQUFDLGlCQUFpQjtDQUMxRjtBQUVELGdCQUFnQjtBQUNoQixpREFBaUQ7QUFDakQsS0FBSztBQUVRLGdCQUFRLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUM7QUFFL0MsaUJBQVMsR0FBRyxnQkFBUSxDQUFDLFNBQVMsRUFBRTtBQUNoQyxnQkFBUSxHQUFHLGdCQUFRLENBQUMsUUFBUSxFQUFFO0FBRTNDLHVEQUF1RDtBQUN2RCwwREFBMEQ7QUFDMUQsSUFBSSxTQUFTO0FBQ2IsSUFBSSxTQUFTO0FBRU4sTUFBTSxhQUFhLEdBQUcsQ0FBQyxjQUFzQixFQUFFLEVBQUUsRUFBRTtJQUN4RCxJQUFJLFdBQVcsSUFBSSxJQUFJLElBQUksV0FBVyxLQUFLLEVBQUUsRUFBRTtRQUM3QyxPQUFPLGdCQUFRO0tBQ2hCO0lBRUQsSUFBSSxTQUFTLElBQUksSUFBSSxJQUFJLFNBQVMsSUFBSSxJQUFJLEVBQUU7UUFDMUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBRSxXQUFXLEVBQUUsRUFBRSxXQUFXLENBQUM7UUFDN0QsU0FBUyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDO0tBQzVDO0lBRUQsT0FBTyxTQUFTO0FBQ2xCLENBQUM7QUFYWSxxQkFBYSxpQkFXekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL3NlcnZpY2VzL2ZpcmViYXNlLnNlcnZpY2UudHM/YjE3OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgKiBhcyBmdW5jdGlvbnMgZnJvbSAnZmlyZWJhc2UtZnVuY3Rpb25zJ1xuaW1wb3J0ICogYXMgYWRtaW4gZnJvbSAnZmlyZWJhc2UtYWRtaW4nXG5cbi8qKlxuICogRW5zdXJlIHRoYXQgRmlyZWJhc2UgQWRtaW4gaXMgb25seSBpbml0aWFsaXplZCBvbmNlXG4gKi9cbi8vIGV4cG9ydCBjb25zdCBhZG1pbkFwcCA9IGFkbWluLmluaXRpYWxpemVBcHAoZnVuY3Rpb25zLmNvbmZpZygpLmZpcmViYXNlKVxuXG5jb25zdCBGSVJFQkFTRV9DT05GSUcgPSBKU09OLnBhcnNlKHByb2Nlc3MuZW52LkZJUkVCQVNFX0NPTkZJRyBhcyBzdHJpbmcpXG5cbmlmIChGSVJFQkFTRV9DT05GSUdbJ2RhdGFiYXNlVVJMJ10gPT0gbnVsbCkge1xuICAvLyBjb25zb2xlLmxvZyhgLS0tIGRhdGFiYXNlVVJMIGlzIG1pc3NpbmcsIGdlbmVyYXRlIGEgbmV3IG9uZSAtLS0tYClcbiAgRklSRUJBU0VfQ09ORklHWydkYXRhYmFzZVVSTCddID0gYGh0dHBzOi8vJHtGSVJFQkFTRV9DT05GSUdbJ3Byb2plY3RJZCddfS5maXJlYmFzZWlvLmNvbWBcbn1cblxuLy8gY29uc29sZS5sb2coe1xuLy8gICBkYXRhYmFzZVVSTDogRklSRUJBU0VfQ09ORklHWydkYXRhYmFzZVVSTCddLFxuLy8gfSlcblxuZXhwb3J0IGNvbnN0IGFkbWluQXBwID0gYWRtaW4uaW5pdGlhbGl6ZUFwcChGSVJFQkFTRV9DT05GSUcpXG5cbmV4cG9ydCBjb25zdCBmaXJlc3RvcmUgPSBhZG1pbkFwcC5maXJlc3RvcmUoKVxuZXhwb3J0IGNvbnN0IHJlYWx0aW1lID0gYWRtaW5BcHAuZGF0YWJhc2UoKVxuXG4vLyBJbiBjYXNlIGN1c3RvbWVyIGhhcyBtb3JlIHRoYW4gb25lIFJlYWx0aW1lIERhdGFiYXNlXG4vLyBJdCB3aWxsIGluaXRpYWxpemUgYSBuZXcgYXBwIHdpdGggbmV3IHJlYWx0aW1lIGRhdGFiYXNlXG5sZXQgcmVhbHRpbWUyXG5sZXQgYWRtaW5BcHAyXG5cbmV4cG9ydCBjb25zdCBnZXRSZWFsdGltZURiID0gKGRhdGFiYXNlVVJMOiBzdHJpbmcgPSAnJykgPT4ge1xuICBpZiAoZGF0YWJhc2VVUkwgPT0gbnVsbCB8fCBkYXRhYmFzZVVSTCA9PT0gJycpIHtcbiAgICByZXR1cm4gcmVhbHRpbWVcbiAgfVxuXG4gIGlmIChyZWFsdGltZTIgPT0gbnVsbCAmJiBhZG1pbkFwcDIgPT0gbnVsbCkge1xuICAgIGFkbWluQXBwMiA9IGFkbWluLmluaXRpYWxpemVBcHAoeyBkYXRhYmFzZVVSTCB9LCAnc2Vjb25kYXJ5JylcbiAgICByZWFsdGltZTIgPSBhZG1pbkFwcDIuZGF0YWJhc2UoZGF0YWJhc2VVUkwpXG4gIH1cblxuICByZXR1cm4gcmVhbHRpbWUyXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///297\n")},395:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.handleErrorAsync = exports.createStatusError = exports.tokenValidation = void 0;\nconst config_1 = __webpack_require__(611);\n/**\n * Get and validate api token\n *\n * @param req\n * @param res\n * @param next\n */\nconst tokenValidation = (req, res, next) => {\n    const source = req.headers['source'];\n    let token;\n    switch (source) {\n        case 'frontend':\n            // token = config.token.frontend\n            // // Check for frontend method\n            // const method = req.originalUrl.split('/').pop()\n            // if (!config.frontendMethods.includes(method)) {\n            //   return res.status(403).send({ auth: false, message: `${method} method is not allowed from frontend` })\n            // }\n            // TODO: writing through frontend is prohibited\n            // Except for sign-out functions\n            if (req.url === '/v1/users/sign-out') {\n                token = config_1.config.token.frontend;\n                break;\n            }\n            return res.status(403).send({ auth: false, message: `Writing from frontend via API is deprecated` });\n        case 'dashboard':\n            token = config_1.config.token.dashboard;\n            break;\n        default:\n            return res.status(403).send({ auth: false, message: 'Source is missing in headers!' });\n    }\n    if (token !== req.headers['api-token']) {\n        return res.status(403).send({ auth: false, message: 'No token provided or token invalid!' });\n    }\n    else {\n        next();\n    }\n};\nexports.tokenValidation = tokenValidation;\n/**\n * Creates a CheckStatusError message with default values\n * @param message\n */\nconst createStatusError = (message) => {\n    const result = {\n        status: false,\n        message: 'An error occured, please try again later.',\n    };\n    if (message) {\n        result.message = message;\n    }\n    return result;\n};\nexports.createStatusError = createStatusError;\nconst handleErrorAsync = (handler) => (req, res, next) => {\n    handler(req, res, next).catch((error) => {\n        // either error has a message\n        let errorMessage = error.message;\n        // or hapi provided an error object\n        if (error.error != null) {\n            errorMessage = error.error;\n        }\n        console.error(error);\n        return res.json((0, exports.createStatusError)(errorMessage));\n    });\n};\nexports.handleErrorAsync = handleErrorAsync;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk1LmpzIiwibWFwcGluZ3MiOiI7OztBQUVBLDBDQUE2QztBQUc3Qzs7Ozs7O0dBTUc7QUFDSSxNQUFNLGVBQWUsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDaEQsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7SUFFcEMsSUFBSSxLQUFLO0lBRVQsUUFBUSxNQUFNLEVBQUU7UUFDZCxLQUFLLFVBQVU7WUFDYixnQ0FBZ0M7WUFDaEMsK0JBQStCO1lBQy9CLGtEQUFrRDtZQUNsRCxrREFBa0Q7WUFDbEQsMkdBQTJHO1lBQzNHLElBQUk7WUFDSiwrQ0FBK0M7WUFDL0MsZ0NBQWdDO1lBQ2hDLElBQUksR0FBRyxDQUFDLEdBQUcsS0FBSyxvQkFBb0IsRUFBRTtnQkFDcEMsS0FBSyxHQUFHLGVBQU0sQ0FBQyxLQUFLLENBQUMsUUFBUTtnQkFDN0IsTUFBSzthQUNOO1lBQ0QsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLDZDQUE2QyxFQUFFLENBQUM7UUFFdEcsS0FBSyxXQUFXO1lBQ2QsS0FBSyxHQUFHLGVBQU0sQ0FBQyxLQUFLLENBQUMsU0FBUztZQUM5QixNQUFLO1FBRVA7WUFDRSxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsK0JBQStCLEVBQUUsQ0FBQztLQUN6RjtJQUVELElBQUksS0FBSyxLQUFLLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDdEMsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLHFDQUFxQyxFQUFFLENBQUM7S0FDN0Y7U0FBTTtRQUNMLElBQUksRUFBRTtLQUNQO0FBQ0gsQ0FBQztBQWxDWSx1QkFBZSxtQkFrQzNCO0FBRUQ7OztHQUdHO0FBQ0ksTUFBTSxpQkFBaUIsR0FBRyxDQUFDLE9BQWEsRUFBRSxFQUFFO0lBQ2pELE1BQU0sTUFBTSxHQUFHO1FBQ2IsTUFBTSxFQUFFLEtBQUs7UUFDYixPQUFPLEVBQUUsMkNBQTJDO0tBQ3RDO0lBRWhCLElBQUksT0FBTyxFQUFFO1FBQ1gsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPO0tBQ3pCO0lBRUQsT0FBTyxNQUFNO0FBQ2YsQ0FBQztBQVhZLHlCQUFpQixxQkFXN0I7QUFFTSxNQUFNLGdCQUFnQixHQUFHLENBQUMsT0FBdUIsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFZLEVBQUUsR0FBYSxFQUFFLElBQWtCLEVBQUUsRUFBRTtJQUMvRyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFVLEVBQUUsRUFBRTtRQUMzQyw2QkFBNkI7UUFDN0IsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLE9BQU87UUFFaEMsbUNBQW1DO1FBQ25DLElBQUksS0FBSyxDQUFDLEtBQUssSUFBSSxJQUFJLEVBQUU7WUFDdkIsWUFBWSxHQUFHLEtBQUssQ0FBQyxLQUFLO1NBQzNCO1FBQ0QsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFFcEIsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLDZCQUFpQixFQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2xELENBQUMsQ0FBQztBQUNKLENBQUM7QUFiWSx3QkFBZ0Isb0JBYTVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlyZWJhc2Utd29yZHByZXNzLWZ1bmN0aW9ucy8uL3NyYy9zZXJ2aWNlcy9oZWxwZXIuc2VydmljZS50cz9mMWEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVxdWVzdEhhbmRsZXIsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcydcblxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnQGZpcmViYXNlLWFwaS9jb25maWcnXG5pbXBvcnQgeyBEb2NSZXNwb25zZSB9IGZyb20gJ0BmaXJlYmFzZS1hcGkvYXBpL2RhdGFiYXNlL21vZGVscydcblxuLyoqXG4gKiBHZXQgYW5kIHZhbGlkYXRlIGFwaSB0b2tlblxuICpcbiAqIEBwYXJhbSByZXFcbiAqIEBwYXJhbSByZXNcbiAqIEBwYXJhbSBuZXh0XG4gKi9cbmV4cG9ydCBjb25zdCB0b2tlblZhbGlkYXRpb24gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qgc291cmNlID0gcmVxLmhlYWRlcnNbJ3NvdXJjZSddXG5cbiAgbGV0IHRva2VuXG5cbiAgc3dpdGNoIChzb3VyY2UpIHtcbiAgICBjYXNlICdmcm9udGVuZCc6XG4gICAgICAvLyB0b2tlbiA9IGNvbmZpZy50b2tlbi5mcm9udGVuZFxuICAgICAgLy8gLy8gQ2hlY2sgZm9yIGZyb250ZW5kIG1ldGhvZFxuICAgICAgLy8gY29uc3QgbWV0aG9kID0gcmVxLm9yaWdpbmFsVXJsLnNwbGl0KCcvJykucG9wKClcbiAgICAgIC8vIGlmICghY29uZmlnLmZyb250ZW5kTWV0aG9kcy5pbmNsdWRlcyhtZXRob2QpKSB7XG4gICAgICAvLyAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCh7IGF1dGg6IGZhbHNlLCBtZXNzYWdlOiBgJHttZXRob2R9IG1ldGhvZCBpcyBub3QgYWxsb3dlZCBmcm9tIGZyb250ZW5kYCB9KVxuICAgICAgLy8gfVxuICAgICAgLy8gVE9ETzogd3JpdGluZyB0aHJvdWdoIGZyb250ZW5kIGlzIHByb2hpYml0ZWRcbiAgICAgIC8vIEV4Y2VwdCBmb3Igc2lnbi1vdXQgZnVuY3Rpb25zXG4gICAgICBpZiAocmVxLnVybCA9PT0gJy92MS91c2Vycy9zaWduLW91dCcpIHtcbiAgICAgICAgdG9rZW4gPSBjb25maWcudG9rZW4uZnJvbnRlbmRcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCh7IGF1dGg6IGZhbHNlLCBtZXNzYWdlOiBgV3JpdGluZyBmcm9tIGZyb250ZW5kIHZpYSBBUEkgaXMgZGVwcmVjYXRlZGAgfSlcblxuICAgIGNhc2UgJ2Rhc2hib2FyZCc6XG4gICAgICB0b2tlbiA9IGNvbmZpZy50b2tlbi5kYXNoYm9hcmRcbiAgICAgIGJyZWFrXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHsgYXV0aDogZmFsc2UsIG1lc3NhZ2U6ICdTb3VyY2UgaXMgbWlzc2luZyBpbiBoZWFkZXJzIScgfSlcbiAgfVxuXG4gIGlmICh0b2tlbiAhPT0gcmVxLmhlYWRlcnNbJ2FwaS10b2tlbiddKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHsgYXV0aDogZmFsc2UsIG1lc3NhZ2U6ICdObyB0b2tlbiBwcm92aWRlZCBvciB0b2tlbiBpbnZhbGlkIScgfSlcbiAgfSBlbHNlIHtcbiAgICBuZXh0KClcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBDaGVja1N0YXR1c0Vycm9yIG1lc3NhZ2Ugd2l0aCBkZWZhdWx0IHZhbHVlc1xuICogQHBhcmFtIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0YXR1c0Vycm9yID0gKG1lc3NhZ2U/OiBhbnkpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN0YXR1czogZmFsc2UsXG4gICAgbWVzc2FnZTogJ0FuIGVycm9yIG9jY3VyZWQsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgfSBhcyBEb2NSZXNwb25zZVxuXG4gIGlmIChtZXNzYWdlKSB7XG4gICAgcmVzdWx0Lm1lc3NhZ2UgPSBtZXNzYWdlXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVFcnJvckFzeW5jID0gKGhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyKSA9PiAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgaGFuZGxlcihyZXEsIHJlcywgbmV4dCkuY2F0Y2goKGVycm9yOiBhbnkpID0+IHtcbiAgICAvLyBlaXRoZXIgZXJyb3IgaGFzIGEgbWVzc2FnZVxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlXG5cbiAgICAvLyBvciBoYXBpIHByb3ZpZGVkIGFuIGVycm9yIG9iamVjdFxuICAgIGlmIChlcnJvci5lcnJvciAhPSBudWxsKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5lcnJvclxuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuXG4gICAgcmV0dXJuIHJlcy5qc29uKGNyZWF0ZVN0YXR1c0Vycm9yKGVycm9yTWVzc2FnZSkpXG4gIH0pXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///395\n")},745:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(395), exports);\n__exportStar(__webpack_require__(297), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQ1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdEQUFnQztBQUNoQyxnREFBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXJlYmFzZS13b3JkcHJlc3MtZnVuY3Rpb25zLy4vc3JjL3NlcnZpY2VzL2luZGV4LnRzPzA4YmEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9oZWxwZXIuc2VydmljZSdcbmV4cG9ydCAqIGZyb20gJy4vZmlyZWJhc2Uuc2VydmljZSdcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///745\n')},414:Q=>{Q.exports=require("@hapi/joi")},986:Q=>{Q.exports=require("body-parser")},582:Q=>{Q.exports=require("cors")},860:Q=>{Q.exports=require("express")},509:Q=>{Q.exports=require("firebase-admin")},744:Q=>{Q.exports=require("firebase-functions")},828:Q=>{Q.exports=require("uuid")}},__webpack_module_cache__={};function __webpack_require__(Q){var e=__webpack_module_cache__[Q];if(void 0!==e)return e.exports;var F=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q].call(F.exports,F,F.exports,__webpack_require__),F.exports}var __webpack_exports__=__webpack_require__(341),__webpack_export_target__=this;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();